%%
%% This is file `bithesis.cls',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% bithesis.dtx  (with options: `cls,thesis')
%% 
%%     Copyright (C) 2025
%%     Association of Bit Network Pioneer and any individual authors listed in the documentation.
%% ------------------------------------------------------------------------------
%% 
%%     This work may be distributed and/or modified under the
%%     conditions of the LaTeX Project Public License, either
%%     version 1.3c of this license or (at your option) any later
%%     version. This version of this license is in
%%        https://www.latex-project.org/lppl/lppl-1-3c.txt
%%     and the latest version of this license is in
%%        https://www.latex-project.org/lppl.txt
%%     and version 1.3 or later is part of all distributions of
%%     LaTeX version 2020/11/27 or later.
%% 
%%     This work has the LPPL maintenance status `maintained'.
%% 
%%     The Current Maintainer of this work is Feng Kaiyu.
%% ------------------------------------------------------------------------------
%% 
\RequirePackage{expl3,l3keys2e}
\ProvidesExplClass{bithesis}
  {2026-01-06} {3.8.7} {BIT Thesis Templates}
\int_new:N \g__bithesis_thesis_type_int
\int_new:N \g__bithesis_head_zihao_int
\bool_new:N \g__bithesis_twoside_bool
\bool_new:N \g__bithesis_thesis_type_english_bool
\bool_new:N \g__bithesis_blind_mode_bool
\bool_new:N \g__bithesis_quirks_mode_bool
\tl_new:N \g__bithesis_label_divide_char_tl
\seq_new:N \l__bithesis_right_seq
\seq_new:N \l__bithesis_left_seq
\clist_new:N \l__bithesis_input_clist
\cs_new:Npn \__bithesis_hide:n #1 {
  \g__bithesis_const_substitute_symbol_tl
}

\cs_new:Npn \__bithesis_secret_info:nn #1 #2 {
  \bool_if:NTF \g__bithesis_blind_mode_bool {
    #2
  } {
    #1
  }
}

\cs_new:Npn \__bithesis_secret_info:N #1 {
  \__bithesis_secret_info:nn {#1} {\tl_map_function:NN #1 \__bithesis_hide:n }
}
\cs_new:Npn \__bithesis_secret_info:n #1 {
  \__bithesis_secret_info:nn {#1} {\tl_map_function:NN {#1} \__bithesis_hide:n }
}
\cs_new:Npn \__bithesis_secret_info_fixed:Nn #1 #2 {
  \tl_if_blank:VF #1 {
    \__bithesis_secret_info:nn {#1} {
      \prg_replicate:nn {#2} {\g__bithesis_const_substitute_symbol_tl}
    }
  }
}
\cs_new:Npn \__bithesis_get_const:n #1 {
  \__bithesis_if_thesis_english:TF {
    \use:c {c__bithesis_label_ #1 _en_tl}
  } {
    \use:c {c__bithesis_label_ #1 _tl}
  }
}
\cs_new:Npn \__bithesis_set_english_mode: {
  \bool_gset_true:N \g__bithesis_thesis_type_english_bool
}
\cs_generate_variant:Nn \tl_if_empty:nTF {x}
\cs_generate_variant:Nn \seq_set_split:Nnn {Nnx}
\cs_if_exist:NF \msg_warning:nnV {
    \cs_generate_variant:Nn \msg_warning:nnn { nnV }
  }
\cs_new:Npn \__bithesis_warning_footer:n #1 {
    â€”The~â€œ#1â€\\warning~on~input~line~\msg_line_number:.
  }
\cs_new:Npn \__bithesis_same_page: {
  \let\clearpage\relax
  \let\cleardoublepage\relax
}

\cs_new:Npn \__bithesis_if_thesis_int_type:nTF #1#2#3 {\int_compare:nNnTF {\g__bithesis_thesis_type_int} = {#1} {#2} {#3}}
\cs_new:Npn \__bithesis_if_thesis_int_type:nT #1#2 {\__bithesis_if_thesis_int_type:nTF {#1} {#2} {}}
\cs_new:Npn \__bithesis_if_thesis_int_type:nF #1#2 {\__bithesis_if_thesis_int_type:nTF {#1} {} {#2}}

\cs_new:Npn \__bithesis_if_thesis_english:TF #1#2 {\bool_if:nTF {\g__bithesis_thesis_type_english_bool} {#1} {#2}}
\cs_new:Npn \__bithesis_if_thesis_english:T #1 {\__bithesis_if_thesis_english:TF {#1}{}}
\cs_new:Npn \__bithesis_if_thesis_english:F #1 {\__bithesis_if_thesis_english:TF {}{#1}}
\cs_new:Npn \__bithesis_if_graduate:TF #1#2 {\int_compare:nNnTF {3} < {\g__bithesis_thesis_type_int} {#1} {#2}}
\cs_new:Npn \__bithesis_if_graduate:T #1 {\__bithesis_if_graduate:TF {#1} {}}
\cs_new:Npn \__bithesis_if_bachelor:T #1 {\__bithesis_if_graduate:TF {} {#1}}
\clist_const:Nn \c__bithesis_thesis_type_clist
    { bachelor, bachelor_translation, bachelor_english, master, doctor}
\cs_new_protected:Npn \__bithesis_define_label:nn #1#2
  { \tl_const:cn { c__bithesis_label_ #1 _tl } {#2} }

\cs_new_protected:Npn \__bithesis_define_label_by_thesis_type:nnn #1#2#3
  {
    \tl_const:cn { c__bithesis_ #1 _label_ #2 _tl } {#3}
  }

\cs_new_protected:Npn \__bithesis_define_label:nnn #1#2#3
  {
    \tl_const:cn { c__bithesis_label_ #1    _tl } {#2}
    \tl_const:cn { c__bithesis_label_ #1 _en_tl } {#3}
  }

\cs_new_protected:Npn \__bithesis_define_label_by_thesis_type:nnnn #1#2#3#4
  {
    \tl_const:cn { c__bithesis_ #1 _label_ #2 _tl } {#3}
    \tl_const:cn { c__bithesis_ #1 _label_ #2 _en_tl } {#4}
  }
\cs_new:Npn \__bithesis_smallgap: {
  \hspace{0.45ex}
}
\cs_new:Npn \__bithesis_boxempty:
{
  \makebox[1em][l]
  {
    % ä¸ºä¿è¯ä¸æ‰“äº†å‹¾çš„ä¸€è‡´ï¼Œä¹Ÿéœ€å¥—ç›’å­
    \makebox[0pt][l]
    {
      % é»˜è®¤æ¯”åŸºçº¿ç•¥é«˜ï¼Œå‘ä¸‹é™é™
      \raisebox{-1pt}{$\square$}
    }
  }
}
\cs_new:Npn \__bithesis_boxcheck:
{
  \makebox[1em][l]
  {
    \makebox[0pt][l]
    {
      % é»˜è®¤æ¯”åŸºçº¿ç•¥é«˜ï¼Œå‘ä¸‹é™é™
      \raisebox{-1pt}{$\square$}
    }
    $\checkmark$
  }
}
\cs_new:Npn \__bithesis_label_space: {
  \__bithesis_if_bachelor:T {
    \quad
  }
}
\clist_map_inline:nn
  {
    {code} {ä»£ç },
    {udc} {UDCåˆ†ç±»å·ï¼š},
    {classification} {ä¸­å›¾åˆ†ç±»å·ï¼š},
    {classified_level} {å¯†çº§},
    {type} {ç§ç±»},
    {special_type} {å­¦ç”Ÿç±»å‹},
    {engineering_special_plan} {å·¥ç¨‹ç¡•åšå£«ä¸“é¡¹},
    {cross_research} {äº¤å‰ç ”ç©¶æ–¹å‘},
    {international_student_ugp} {æ”¿åºœé¡¹ç›®ç•™å­¦ç”Ÿ},
  }
  {\__bithesis_define_label:nn #1}
\clist_map_inline:nn
  {
    {originality} {åŸåˆ›æ€§å£°æ˜},
    {originality_clause} {æœ¬äººéƒ‘é‡å£°æ˜ï¼šæ‰€å‘ˆäº¤çš„æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ï¼Œ
    æ˜¯æœ¬äººåœ¨æŒ‡å¯¼è€å¸ˆçš„æŒ‡å¯¼ä¸‹ç‹¬ç«‹è¿›è¡Œç ”ç©¶æ‰€å–å¾—çš„æˆæœã€‚é™¤æ–‡ä¸­å·²ç»æ³¨æ˜å¼•ç”¨çš„å†…å®¹å¤–ï¼Œ
    æœ¬æ–‡ä¸åŒ…å«ä»»ä½•å…¶ä»–ä¸ªäººæˆ–é›†ä½“å·²ç»å‘è¡¨æˆ–æ’°å†™è¿‡çš„ç ”ç©¶æˆæœã€‚
    å¯¹æœ¬æ–‡çš„ç ”ç©¶åšå‡ºé‡è¦è´¡çŒ®çš„ä¸ªäººå’Œé›†ä½“ï¼Œå‡å·²åœ¨æ–‡ä¸­ä»¥æ˜ç¡®æ–¹å¼æ ‡æ˜ã€‚\par~ç‰¹æ­¤ç”³æ˜ã€‚},
    {authorization} {å…³äºä½¿ç”¨æˆæƒçš„å£°æ˜},
    {authorization_clause} {æœ¬äººå®Œå…¨äº†è§£åŒ—äº¬ç†å·¥å¤§å­¦æœ‰å…³ä¿ç®¡ã€ä½¿ç”¨æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰çš„è§„å®šï¼Œ
    å…¶ä¸­åŒ…æ‹¬ï¼š\circled{1}~å­¦æ ¡æœ‰æƒä¿ç®¡ã€å¹¶å‘æœ‰å…³éƒ¨é—¨é€äº¤æœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰çš„åŸä»¶ä¸å¤å°ä»¶ï¼›
    \circled{2}~å­¦æ ¡å¯ä»¥é‡‡ç”¨å½±å°ã€ç¼©å°æˆ–å…¶å®ƒå¤åˆ¶æ‰‹æ®µå¤åˆ¶å¹¶ä¿å­˜æœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ï¼›
    \circled{3}~å­¦æ ¡å¯å…è®¸æœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰è¢«æŸ¥é˜…æˆ–å€Ÿé˜…ï¼›\circled{4}~å­¦æ ¡å¯ä»¥å­¦æœ¯äº¤æµä¸ºç›®çš„ï¼Œ
    å¤åˆ¶èµ é€å’Œäº¤æ¢æœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ï¼›\circled{5}~å­¦æ ¡å¯ä»¥å…¬å¸ƒæœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å†…å®¹ã€‚},
    {originality_author_signature}
      {æœ¬äººç­¾åï¼š\hspace{40mm}æ—¥\hspace{2.5mm}æœŸï¼š\hspace{13mm}å¹´\hspace{8mm}æœˆ\hspace{8mm}æ—¥},
    {originality_supervisor_signature}
      {æŒ‡å¯¼è€å¸ˆç­¾åï¼š\hspace{40mm}æ—¥\hspace{2.5mm}æœŸï¼š\hspace{13mm}å¹´\hspace{8mm}æœˆ\hspace{8mm}æ—¥},
  } {\__bithesis_define_label_by_thesis_type:nnn {bachelor} #1}
\clist_map_inline:nn
  {
    {originality} {åŸåˆ›æ€§å£°æ˜~Statement~of~Originality},
    {originality_clause} {
        æœ¬äººéƒ‘é‡å£°æ˜ï¼šæ‰€å‘ˆäº¤çš„æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ï¼Œ
        æ˜¯æœ¬äººåœ¨æŒ‡å¯¼è€å¸ˆçš„æŒ‡å¯¼ä¸‹ç‹¬ç«‹è¿›è¡Œç ”ç©¶æ‰€å–å¾—çš„æˆæœã€‚é™¤æ–‡ä¸­å·²ç»æ³¨æ˜å¼•ç”¨çš„å†…å®¹å¤–ï¼Œ
        æœ¬æ–‡ä¸åŒ…å«ä»»ä½•å…¶ä»–ä¸ªäººæˆ–é›†ä½“å·²ç»å‘è¡¨æˆ–æ’°å†™è¿‡çš„ç ”ç©¶æˆæœã€‚
        å¯¹æœ¬æ–‡çš„ç ”ç©¶åšå‡ºé‡è¦è´¡çŒ®çš„ä¸ªäººå’Œé›†ä½“ï¼Œå‡å·²åœ¨æ–‡ä¸­ä»¥æ˜ç¡®æ–¹å¼æ ‡æ˜ã€‚ç‰¹æ­¤ç”³æ˜ã€‚\par
        \arialfamily I,\dunderline[-1pt]{1pt}{\makebox[18mm]{}},~solemnly~
        declare:~the~submitted~graduation~design~(thesis),~
        is~the~research~achievement~completed~independently~by~myself~
        under~the~guidance~of~the~supervisor.~This~article~does~not~contain~
        any~research~published~or~written~by~any~other~individual~or~group,~
        except~as~already~referenced~in~this~paper.~Individuals~and~groups~
        that~have~made~important~contributions~to~the~study~of~this~paper~
        are~clearly~indicated~and~cited~in~the~paper.\par
    },
    {authorization} {å…³äºä½¿ç”¨æˆæƒçš„å£°æ˜~State~of~Use~Authorization},
    {authorization_clause} {
      æœ¬äººå®Œå…¨äº†è§£åŒ—äº¬ç†å·¥å¤§å­¦æœ‰å…³ä¿ç®¡ã€ä½¿ç”¨æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰çš„è§„å®šï¼Œ
      å…¶ä¸­åŒ…æ‹¬ï¼š\circled{1}å­¦æ ¡æœ‰æƒä¿ç®¡ã€å¹¶å‘æœ‰å…³éƒ¨é—¨é€äº¤æœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰çš„åŸä»¶ä¸å¤å°ä»¶ï¼›
      \circled{2}å­¦æ ¡å¯ä»¥é‡‡ç”¨å½±å°ã€ç¼©å°æˆ–å…¶å®ƒå¤åˆ¶æ‰‹æ®µå¤åˆ¶å¹¶ä¿å­˜æœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ï¼›
      \circled{3}å­¦æ ¡å¯å…è®¸æœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰è¢«æŸ¥é˜…æˆ–å€Ÿé˜…ï¼›
      \circled{4}å­¦æ ¡å¯ä»¥å­¦æœ¯äº¤æµä¸ºç›®çš„,å¤åˆ¶èµ é€å’Œäº¤æ¢æœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ï¼›
      \circled{5}å­¦æ ¡å¯ä»¥å…¬å¸ƒæœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å†…å®¹ã€‚\par
      I~fully~understand~the~regulations~on~the~storage,~
      use~of~graduation~design~(thesis)~in~Beijing~Institute~of~Technology.~
      Beijing~Institute~of~Technology~has~the~right~to~(1)~keep,~
      and~to~the~relevant~departments~to~send~the~original~or~copy~
      of~this~graduation~design~(thesis);~(2)~copy~and~preserve~this~
      graduation~design~(thesis)~by~photocopying,~miniature~or~other~
      means~of~reproduction;~(3)~allow~this~graduation~design~(thesis)~
      to~be~read~or~borrowed;~(4)~for~the~purpose~of~academic~exchange,~
      copy,~give~and~exchange~this~graduation~design~(thesis);~(5)~
      publish~all~or~part~of~the~contents~of~this~graduation~design~(thesis).~
    },
  } {\__bithesis_define_label_by_thesis_type:nnn {bachelor_english} #1}
\clist_map_inline:nn
  {
    {originality} {ç ”ç©¶æˆæœå£°æ˜},
    {originality_clause} {æœ¬äººéƒ‘é‡å£°æ˜ï¼šæ‰€æäº¤çš„å­¦ä½è®ºæ–‡æ˜¯æˆ‘æœ¬äººåœ¨æŒ‡å¯¼æ•™å¸ˆçš„æŒ‡å¯¼ä¸‹ç‹¬ç«‹å®Œæˆçš„ç ”ç©¶æˆæœã€‚æ–‡ä¸­æ‰€æ’°å†™å†…å®¹ç¬¦åˆä»¥ä¸‹å­¦æœ¯è§„èŒƒï¼ˆè¯·å‹¾é€‰ï¼‰ï¼š
\par \__bithesis_boxcheck:\hspace{0.5em} è®ºæ–‡ç»¼è¿°éµå¾ªâ€œé€‚å½“å¼•ç”¨â€çš„è§„èŒƒï¼Œå…¨éƒ¨å¼•ç”¨çš„å†…å®¹ä¸è¶…è¿‡50\%ã€‚
\par \__bithesis_boxcheck:\hspace{0.5em} è®ºæ–‡ä¸­çš„ç ”ç©¶æ•°æ®åŠç»“æœä¸å­˜åœ¨ç¯¡æ”¹ã€å‰½çªƒã€æŠ„è¢­ã€ä¼ªé€ ç­‰å­¦æœ¯ä¸ç«¯è¡Œä¸ºï¼Œå¹¶æ„¿æ„æ‰¿æ‹…å› å­¦æœ¯ä¸ç«¯è¡Œä¸ºæ‰€å¸¦æ¥çš„ä¸€åˆ‡åæœå’Œæ³•å¾‹è´£ä»»ã€‚
\par \__bithesis_boxcheck:\hspace{0.5em} æ–‡ä¸­ä¾æ³•å¼•ç”¨ä»–äººçš„æˆæœï¼Œå‡å·²åšå‡ºæ˜ç¡®æ ‡æ³¨æˆ–å¾—åˆ°è®¸å¯ã€‚
\par \__bithesis_boxcheck:\hspace{0.5em} è®ºæ–‡å†…å®¹æœªåŒ…å«æ³•å¾‹æ„ä¹‰ä¸Šå·²å±äºä»–äººçš„ä»»ä½•å½¢å¼çš„ç ”ç©¶æˆæœï¼Œä¹Ÿä¸åŒ…å«æœ¬äººå·²ç”¨äºå…¶ä»–å­¦ä½ç”³è¯·çš„è®ºæ–‡æˆ–æˆæœã€‚
\par \__bithesis_boxcheck:\hspace{0.5em} ä¸æœ¬äººä¸€åŒå·¥ä½œçš„åˆä½œè€…å¯¹æ­¤ç ”ç©¶å·¥ä½œæ‰€åšçš„ä»»ä½•è´¡çŒ®å‡å·²åœ¨å­¦ä½è®ºæ–‡ä¸­ä½œäº†æ˜ç¡®çš„è¯´æ˜å¹¶è¡¨ç¤ºäº†è°¢æ„ã€‚
\par~ç‰¹æ­¤å£°æ˜ã€‚},
    {authorization} {å…³äºå­¦ä½è®ºæ–‡ä½¿ç”¨æƒçš„è¯´æ˜},
    {authorization_clause} {æœ¬äººå®Œå…¨äº†è§£åŒ—äº¬ç†å·¥å¤§å­¦æœ‰å…³ä¿ç®¡ã€ä½¿ç”¨å­¦ä½è®ºæ–‡çš„è§„å®šï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š
\par~\circled{1}~å­¦æ ¡æœ‰æƒä¿ç®¡ã€å¹¶å‘æœ‰å…³éƒ¨é—¨é€äº¤å­¦ä½è®ºæ–‡çš„åŸä»¶ä¸å¤å°ä»¶ï¼›
\par~\circled{2}~å­¦æ ¡å¯ä»¥é‡‡ç”¨å½±å°ã€ç¼©å°æˆ–å…¶å®ƒå¤åˆ¶æ‰‹æ®µå¤åˆ¶å¹¶ä¿å­˜å­¦ä½è®ºæ–‡ï¼›
\par~\circled{3}~å­¦æ ¡å¯å…è®¸å­¦ä½è®ºæ–‡è¢«æŸ¥é˜…æˆ–å€Ÿé˜…ï¼›
\par~\circled{4}~å­¦æ ¡å¯ä»¥å­¦æœ¯äº¤æµä¸ºç›®çš„,å¤åˆ¶èµ é€å’Œäº¤æ¢å­¦ä½è®ºæ–‡ï¼›
\par~\circled{5}~å­¦æ ¡å¯ä»¥å…¬å¸ƒå­¦ä½è®ºæ–‡çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å†…å®¹ï¼ˆä¿å¯†å­¦ä½è®ºæ–‡åœ¨è§£å¯†åéµå®ˆæ­¤è§„å®šï¼‰ã€‚},
    {originality_author_signature}
      {ç­¾\qquad åï¼š\hspace{40mm}æ—¥\hspace{2.5mm}æœŸï¼š\hspace{30mm}\quad},
    {originality_supervisor_signature}
      {å¯¼å¸ˆç­¾åï¼š\hspace{40mm}æ—¥\hspace{2.5mm}æœŸï¼š\hspace{30mm}\quad},
  } {\__bithesis_define_label_by_thesis_type:nnn {graduate} #1}
\clist_map_inline:nn
  {
    % TODO: è‡ªåŠ¨å®ç°æ±‰å­—å‡æ’
    {author} {ä½œ\quad è€…\quad å§“\quad å} {Candidate~Name},
    {school} {å­¦\quad é™¢\quad å\quad ç§°} {School~or~Department},
    {supervisor} {æŒ‡\quad å¯¼\quad æ•™\quad å¸ˆ} {Faculty~Mentor},
    {industrial_mentor} {è¡Œ\__bithesis_smallgap: ä¸š\__bithesis_smallgap: åˆ\__bithesis_smallgap: ä½œ\__bithesis_smallgap: å¯¼\__bithesis_smallgap: å¸ˆ} {Industry~Collaboration~Mentor},
    {chairman} {ç­”è¾©å§”å‘˜ä¼šä¸»å¸­} {Chair,~Thesis~Committee},
    % degreeã€major çš„ä¸­æ–‡ä¸ degreeType æœ‰å…³ï¼Œæ­¤å¤„ä»¥ academic ä¸ºå‡†ï¼Œå…¶ä½™æƒ…å†µé€šè¿‡ \c__bithesis_auto_tl å¤„ç†
    % è‹±æ–‡å€’æ˜¯æ— å…³ã€‚
    {degree} {ç”³\quad è¯·\quad å­¦\quad ä½} {Degree~Applied},
    {major} {ä¸€\quad çº§\quad å­¦\quad ç§‘} {Major},
    {institute}
      {å­¦\__bithesis_smallgap: ä½\__bithesis_smallgap: æˆ\__bithesis_smallgap: äºˆ\__bithesis_smallgap: å•\__bithesis_smallgap: ä½}
      {Degree~by},
    {defense_date}
      {è®º\__bithesis_smallgap: æ–‡\__bithesis_smallgap: ç­”\__bithesis_smallgap: è¾©\__bithesis_smallgap: æ—¥\__bithesis_smallgap: æœŸ}
      {The~Date~of~Defence},
  } {\__bithesis_define_label_by_thesis_type:nnnn {graduate} #1}
\clist_map_inline:nn
  {
    {school} {å­¦\qquad é™¢} {School},
    {major} {ä¸“\qquad ä¸š} {Degree},
    {course} {è¯¾ç¨‹åç§°} {Course},
    {class} {ç­\qquad{}çº§} {Class},
    {author} {å­¦ç”Ÿå§“å} {Author},
    {student_id} {å­¦\qquad å·} {Student~ID},
    {supervisor} {æŒ‡å¯¼æ•™å¸ˆ} {Supervisor},
    {co_supervisor} {æ ¡å¤–æŒ‡å¯¼æ•™å¸ˆ} {Co-Supervisor},
    {teacher} {ä»»è¯¾æ•™å¸ˆ} {Teacher},
    {semester} {ä¸Šè¯¾å­¦æœŸ} {Semester},
    {keywords} {å…³é”®è¯ï¼š} {Key~Words:~},
    {toc} {ç›®\__bithesis_label_space: å½•} {Table~of~Contents},
    {abstract} {æ‘˜\__bithesis_label_space: è¦} {Abstract},
    {conclusion} {ç»“\__bithesis_label_space: è®º} {Conclusions},
    % é™„å½•éƒ¨åˆ†çš„æ€»æ ‡é¢˜
    {appendix} {é™„\__bithesis_label_space: å½•} {Appendices},
    {ack} {è‡´\__bithesis_label_space: è°¢} {Acknowledgements},
    {figure} {æ’\__bithesis_label_space: å›¾} {Illustrations},
    {table} {è¡¨\__bithesis_label_space: æ ¼} {Tables},
    % é™„å½•ä¸‹å„éƒ¨åˆ†ç¼–å·çš„å‰ç¼€
    {appendix_prefix} {é™„å½•} {Appendix},
    {reference} {å‚è€ƒæ–‡çŒ®} {References},
    {university} {åŒ—äº¬ç†å·¥å¤§å­¦} {Beijing~Institute~of~Technology},
    {publications} {æ”»è¯»å­¦ä½æœŸé—´å‘è¡¨è®ºæ–‡ä¸ç ”ç©¶æˆæœæ¸…å•}
      {Publications~During~Studies},
    % TODO: Not so sure about the translation.
    {resume} {ä½œè€…ç®€ä»‹} {Author~Biography},
    {symbols} {ä¸»è¦ç¬¦å·å¯¹ç…§è¡¨} {Nomenclature},
    {algo} {ç®—æ³•} {Algorithm},
    {them} {å®šç†} {Theorem},
    {lem} {å¼•ç†} {Lemma},
    {prop} {å‘½é¢˜} {Proposition},
    {cor} {æ¨è®º} {Corollary},
    {axi} {å…¬ç†} {Axiom},
    {defn} {å®šä¹‰} {Definition},
    {conj} {çŒœæƒ³} {Conjecture},
    {exmp} {ä¾‹} {Example},
    {case} {æƒ…å½¢} {Case},
    {rem} {æ³¨} {Remark},
    {fig} {å›¾} {Figure},
    {tab} {è¡¨} {Table},
    {equ} {å¼} {Equation},
  }
  {\__bithesis_define_label:nnn #1}
\clist_const:Nn \c__bithesis_bachelor_thesis_header_clist
  {
    åŒ—äº¬ç†å·¥å¤§å­¦æœ¬ç§‘ç”Ÿæ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰,
    åŒ—äº¬ç†å·¥å¤§å­¦æœ¬ç§‘ç”Ÿæ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰å¤–æ–‡ç¿»è¯‘,
    Beijing~Institute~of~Technology~Bachelor's~Thesis,
    åŒ—äº¬ç†å·¥å¤§å­¦ç¡•å£«å­¦ä½è®ºæ–‡,
    åŒ—äº¬ç†å·¥å¤§å­¦åšå£«å­¦ä½è®ºæ–‡,
  }
\clist_const:Nn \c__bithesis_bachelor_thesis_headline_clist
  {
    æœ¬ç§‘ç”Ÿæ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰,
    æœ¬ç§‘ç”Ÿæ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰å¤–æ–‡ç¿»è¯‘,
    Beijing\nobreak{~}Institute\nobreak{~}of\nobreak{~}Technology~Bachelor's~Thesis,
  }
\tl_const:Nn \c__bithesis_auto_tl { BIThesis-auto-magic }
\keys_define:nn { bithesis }
{
  info .meta:nn = { bithesis / info } {#1},
  misc .meta:nn = { bithesis / misc } {#1},
  cover .meta:nn = { bithesis / cover } {#1},
  style .meta:nn = { bithesis / style } {#1},
  option .meta:nn = { bithesis / option } {#1},
  TOC .meta:nn = { bithesis / TOC } {#1},
  appendices .meta:nn = { bithesis / appendices } {#1},
  publications .meta:nn = { bithesis / publications } {#1},
  acknowledgements .meta:nn = { bithesis / acknowledgements } {#1},
  const .meta:nn = { bithesis / const } {#1},
}
\keys_define:nn { bithesis / option }
{
  type .choice:,
  type .value_required:n = true,
  type .choices:Vn =
    \c__bithesis_thesis_type_clist
    {
      \int_set_eq:NN \g__bithesis_thesis_type_int \l_keys_choice_int
      \int_case:nn {\l_keys_choice_int} {
        % æœ¬ç§‘å…¨è‹±æ–‡ä¹Ÿæ˜¯è‹±æ–‡æ¨¡æ¿ã€‚
        {3} {\__bithesis_set_english_mode:}
      }
    },
  type .initial:n = bachelor,
  twoside .bool_gset:N = \g__bithesis_twoside_bool,
  blindPeerReview .bool_gset:N = \g__bithesis_blind_mode_bool,
  ctex .tl_set:N = \l__bithesis_options_to_ctex_tl,
  quirks .bool_gset:N = \g__bithesis_quirks_mode_bool,
  % xeCJK
  autoFakeBold .tl_set:N = \g__bithesis_auto_fake_bold_tl,
  autoFakeBold .initial:n = {3},
  % æ˜¯å¦å¼€å¯è‹±æ–‡æ¨¡å¼ã€‚ç›®å‰åœ¨è®¾è®¡ä¸Šï¼Œè¿™ä¸ªé€‰é¡¹ä»…å¯¹ç ”ç©¶ç”Ÿæ¨¡æ¿ç”Ÿæ•ˆã€‚
  % æœ¬ç§‘ç”Ÿæ¨¡æ¿çš„è‹±æ–‡æ¨¡å¼æ˜¯æ ¹æ® |type| é€‰é¡¹è‡ªåŠ¨åˆ¤æ–­çš„ã€‚
  english .code:n = { \__bithesis_set_english_mode: } ,
}
\tl_new:N \l__bithesis_cover_delimiter_tl
\tl_new:N \l__bithesis_cover_label_align_tl
\dim_new:N \l__bithesis_cover_label_max_width_dim
\dim_new:N \l__bithesis_cover_value_max_width_dim
\dim_new:N \l__bithesis_cover_auto_width_padding_dim
\dim_new:N \l__bithesis_cover_underline_offset_dim
\keys_define:nn { bithesis / cover }
  {
    date .tl_set:N = \l__bithesis_cover_date_tl,
    headerImage .tl_set:N = \l_bit_coverheaderimage_tl,
    xiheiFont .tl_set:N = \l__bithesis_cover_xihei_font_path_tl,
    xiheiFont .default:n = {STXihei},
    %% cover entry
    delimiter .tl_set:N = \l__bithesis_cover_delimiter_tl,
    labelAlign .tl_set:N = \l__bithesis_cover_label_align_tl,
    labelAlign .initial:n = {r},
    valueAlign .tl_set:N = \l__bithesis_cover_value_align_tl,
    valueAlign .initial:n = {c},
    labelMaxWidth .dim_set:N = \l__bithesis_cover_label_max_width_dim,
    valueMaxWidth .dim_set:N = \l__bithesis_cover_value_max_width_dim,
    autoWidthPadding .dim_set:N = \l__bithesis_cover_auto_width_padding_dim,
    autoWidthPadding .initial:n = {0.25em},
    autoWidth .bool_set:N = \l__bithesis_cover_auto_width_bool,
    autoWidth .initial:n = {true},
    underlineThickness .dim_set:N = \l__bithesis_cover_underline_thickness_dim,
    underlineThickness .initial:n = {1pt},
    underlineOffset .dim_set:N = \l__bithesis_cover_underline_offset_dim,
    underlineOffset .initial:n = { -10pt },
    hideCoverInPeerReview .bool_set:N = \l__bithesis_cover_hide_cover_in_peer_review_bool,
    % æ­¤å¤„æš‚ä¸”å¡«å……é»˜è®¤å€¼ä¸º`false`ï¼Œå¾…ç¡®å®š`\g__bithesis_thesis_type_int`åå†æ ¹æ®è®ºæ–‡ç±»å‹è¦†ç›–é»˜è®¤å€¼
    hideCoverInPeerReview .initial:n = {false},
    % ç ”ç©¶ç”Ÿçš„ã€Œç‰¹æ®Šç±»å‹ã€
    showSpecialTypeBox .bool_set:N = \l__bithesis_cover_show_special_type_box_bool,
    showSpecialTypeBox .initial:n = {false},
    % æœ¬ç§‘è‹±æ–‡æ¨¡æ¿ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸­æ–‡å°é¢
    prefer-zh .bool_set:N = \l__bithesis_cover_prefer_zh_bool,
    prefer-zh .initial:n = {false},
    % æœ¬ç§‘è‹±æ–‡æ¨¡æ¿ä½¿ç”¨ä¸­æ–‡å°é¢æ—¶å¯èƒ½éœ€è¦è°ƒæ¢ä¸­è‹±æ–‡æ ‡é¢˜é¡ºåº
    reverse-titles .bool_set:N = \l__bithesis_cover_reverse_titles_bool,
    reverse-titles .initial:n = {false},
    % æœ¬ç§‘è‹±æ–‡æ¨¡æ¿å¯åŠ å…¥ä¸­æ–‡æ ‡é¢˜
    addTitleZh .bool_set:N = \l__bithesis_cover_add_titlezh_bool,
    addTitleZh .initial:n = {true},
  }
\keys_define:nn { bithesis / info }
  {
    title .tl_set:N = \l__bithesis_value_title_tl,
    title .initial:n = {å½¢çŠ¶è®°å¿†èšæ°¨é…¯çš„åˆæˆåŠå…¶åœ¨ç»‡ç‰©ä¸­çš„åº”ç”¨ï¼ˆç¤ºä¾‹ï¼‰},
    titleEn .tl_set:N = \l__bithesis_value_title_en_tl,
    titleEn .initial:n = {Synthesis~and~Application~on~Texttiles~of~the~Shape~Memory~Polyurethane~(example)},
    % å› ä¸ºæ˜¯è¦†ç›–é€‰é¡¹ï¼Œæ‰€ä»¥ä¸éœ€è¦è®¾ç½®åˆå§‹å€¼ã€‚
    verticalTitle .tl_set:N = \l__bithesis_value_vertical_title_tl,
    school .tl_set:N = \l__bithesis_value_school_tl,
    major .tl_set:N = \l__bithesis_value_major_tl,
    class .tl_set:N = \l__bithesis_value_class_tl,
    % è¯¾ç¨‹åç§°ï¼Œè¯»ä¹¦æŠ¥å‘Šä½¿ç”¨
    course .tl_set:N = \l__bithesis_value_course_tl,
    author .tl_set:N = \l__bithesis_value_author_tl,
    studentId .tl_set:N = \l__bithesis_value_student_id_tl,
    % æŒ‡å¯¼æ•™å¸ˆ
    supervisor .tl_set:N = \l__bithesis_value_supervisor_tl,
    % å› ä¸ºé»˜è®¤ä¸æ˜¾ç¤ºï¼Œæ‰€ä»¥ä¸éœ€è¦è®¾ç½®åˆå§‹å€¼ã€‚
    externalSupervisor .tl_set:N = \l__bithesis_value_external_supervisor_tl,
    % ä»»è¯¾æ•™å¸ˆï¼Œè¯»ä¹¦æŠ¥å‘Šä½¿ç”¨
    teacher .tl_set:N = \l__bithesis_value_teacher_tl,
    % ä¸Šè¯¾å­¦æœŸï¼Œè¯»ä¹¦æŠ¥å‘Šä½¿ç”¨
    semester .tl_set:N = \l__bithesis_value_semester_tl,
    keywords .tl_set:N = \l__bithesis_value_keywords_tl,
    keywords .initial:n = {èšæ°¨é…¯,å½¢çŠ¶è®°å¿†,ç»‡ç‰©ï¼ˆç¤ºä¾‹ï¼‰},
    keywordsEn .tl_set:N = \l__bithesis_value_keywords_en_tl,
    keywordsEn .initial:n = {Polyurethane,Shape Memory,Textiles (example)},
    translationTitle .tl_set:N = \l__bithesis_value_trans_title_tl,
    translationOriginTitle .tl_set:N = \l__bithesis_value_trans_origin_title_tl,
    % ä¸­å›¾åˆ†ç±»å·ï¼Œç ”ç©¶ç”Ÿå­¦ä½è®ºæ–‡ä½¿ç”¨
    classification .tl_set:N = \l__bithesis_value_classification_tl,
    classification .initial:n = {TQ~028.1ï¼ˆç¤ºä¾‹ï¼‰},
    % UDC åˆ†ç±»å·ï¼Œç ”ç©¶ç”Ÿå­¦ä½è®ºæ–‡ä½¿ç”¨
    UDC .tl_set:N = \l__bithesis_value_udc_tl,
    UDC .initial:n = {540ï¼ˆç¤ºä¾‹ï¼‰},
    % å­¦æœ¯å‹/ä¸“ä¸šå‹ï¼Œç ”ç©¶ç”Ÿå­¦ä½è®ºæ–‡ä½¿ç”¨
    degreeType .choice:,
    degreeType .choices:nn = {professional, academic} {
      \tl_set:Nn \l__bithesis_value_degree_type_tl {#1}
    },
    degreeType .initial:n = academic,
    chairman .tl_set:N = \l__bithesis_value_chairman_tl,
    industrialMentor .tl_set:N = \l__bithesis_value_industrial_mentor_tl,
    industrialMentorEn .tl_set:N = \l__bithesis_value_industrial_mentor_en_tl,
    degree .tl_set:N = \l__bithesis_value_degree_tl,
    degreeEn .tl_set:N = \l__bithesis_value_degree_en_tl,
    institute .tl_set:N = \l__bithesis_value_institute_tl,
    institute .initial:n = {\tl_use:N \c__bithesis_label_university_tl},
    defenseDate .tl_set:N = \l__bithesis_value_defense_date_tl,
    authorEn .tl_set:N = \l__bithesis_value_author_en_tl,
    schoolEn .tl_set:N = \l__bithesis_value_school_en_tl,
    supervisorEn .tl_set:N = \l__bithesis_value_supervisor_en_tl,
    chairmanEn .tl_set:N = \l__bithesis_value_chairman_en_tl,
    majorEn .tl_set:N = \l__bithesis_value_major_en_tl,
    instituteEn .tl_set:N = \l__bithesis_value_institute_en_tl,
    instituteEn .initial:n = {\c__bithesis_label_university_en_tl},
    defenseDateEn .tl_set:N = \l__bithesis_value_defense_date_en_tl,
    defenseDateEn .initial:n = {June,~2019~(example)},
    % å› ä¸ºé»˜è®¤ä¸æ˜¾ç¤ºï¼Œæ‰€ä»¥ä¸éœ€è¦è®¾ç½®åˆå§‹å€¼ã€‚
    classifiedLevel .tl_set:N = \l__bithesis_value_classified_level_tl,
    % å­¦ç”Ÿç±»å‹-å·¥ç¨‹ç¡•åšå£«ä¸“é¡¹
    å·¥ç¨‹ç¡•åšå£«ä¸“é¡¹ .bool_set:N = \l__bithesis_value_engineering_special_plan_bool,
    å·¥ç¨‹ç¡•åšå£«ä¸“é¡¹ .initial:n = {false},
    % å­¦ç”Ÿç±»å‹-äº¤å‰ç ”ç©¶æ–¹å‘
    crossResearch .bool_set:N = \l__bithesis_value_cross_research_bool,
    crossResearch .initial:n = {false},
    % å­¦ç”Ÿç±»å‹-æ”¿åºœé¡¹ç›®ç•™å­¦ç”Ÿ
    internationalStudentUGP .bool_set:N = \l__bithesis_value_international_student_ugp_bool,
    internationalStudentUGP .initial:n = {false},
  }
\keys_define:nn { bithesis / misc }
  {
    % è¡¨æ ¼å­—ä½“å¤§å°ï¼Œé»˜è®¤ä¸º 5 å·å­—ä½“ã€‚
    tabularFontSize .tl_set:N = \l__bithesis_misc_tabular_font_size_tl,
    tabularFontSize .initial:n = {5},
    arialFont .tl_set:N = \l__bithesis_misc_arial_font_path_tl,
    autoref / algo .tl_set:N = \l__bithesis_misc_autoref_algo_tl,
    autoref / algo .initial:n = {\g__bithesis_const_autoref_algo_tl},
    autoref / them .tl_set:N = \themautorefname,
    autoref / them .initial:n = {\g__bithesis_const_autoref_them_tl},
    autoref / lem .tl_set:N = \lemautorefname,
    autoref / lem .initial:n = {\g__bithesis_const_autoref_lem_tl},
    autoref / prop .tl_set:N = \propautorefname,
    autoref / prop .initial:n = {\g__bithesis_const_autoref_prop_tl},
    autoref / cor .tl_set:N = \corautorefname,
    autoref / cor .initial:n = {\g__bithesis_const_autoref_cor_tl},
    autoref / axi .tl_set:N = \axiautorefname,
    autoref / axi .initial:n = {\g__bithesis_const_autoref_axi_tl},
    autoref / defn .tl_set:N = \defnautorefname,
    autoref / defn .initial:n = {\g__bithesis_const_autoref_defn_tl},
    autoref / conj .tl_set:N = \conjautorefname,
    autoref / conj .initial:n = {\g__bithesis_const_autoref_conj_tl},
    autoref / exmp .tl_set:N = \exmpautorefname,
    autoref / exmp .initial:n = {\g__bithesis_const_autoref_exmp_tl},
    autoref / case .tl_set:N = \caseautorefname,
    autoref / case .initial:n = {\g__bithesis_const_autoref_case_tl},
    autoref / rem .tl_set:N = \remautorefname,
    autoref / rem .initial:n = {\g__bithesis_const_autoref_rem_tl},
    hideLinks .bool_set:N = \l__bithesis_misc_hide_links_bool,
    hideLinks .initial:n = {true},
    autoref / figure .tl_set:N = \figureautorefname,
    autoref / figure .initial:n = {\g__bithesis_const_autoref_fig_tl},
    autoref / table .tl_set:N = \tableautorefname,
    autoref / table .initial:n = {\g__bithesis_const_autoref_tab_tl},
    autoref / equ .tl_set:N = \equationautorefname,
    autoref / equ .initial:n = {\g__bithesis_const_autoref_equ_tl},
    % æµ®åŠ¨ä½“ç›¸å…³çš„å„ç§é—´è·
    floatSeparation .tl_set:N = \l__bithesis_misc_float_separation_tl,
    floatSeparation .initial:n = {0},
    algorithmSeparation .tl_set:N = \l__bithesis_misc_algorithm_separation_tl,
    algorithmSeparation .initial:n = {12pt plus 4pt minus 4pt},
    tabularRowSeparation .tl_set:N = \l__bithesis_misc_tabular_row_separation_tl,
    tabularRowSeparation .initial:n = {1},
  }
\keys_define:nn { bithesis / const }
  {
    autoref .meta:nn = { bithesis / const / autoref } { #1 },
    style .meta:nn = { bithesis / const / style } { #1 },
    info .meta:nn = { bithesis / const / info } { #1 },
    heading .meta:nn = { bithesis / const / heading } { #1 },
  }
\keys_define:nn { bithesis / const / autoref }
  {
    algo .tl_set:N = \g__bithesis_const_autoref_algo_tl,
    algo .initial:n = {\__bithesis_get_const:n {algo}},
    them .tl_set:N = \g__bithesis_const_autoref_them_tl,
    them .initial:n = {\__bithesis_get_const:n {them}},
    lem .tl_set:N = \g__bithesis_const_autoref_lem_tl,
    lem .initial:n = {\__bithesis_get_const:n {lem}},
    prop .tl_set:N = \g__bithesis_const_autoref_prop_tl,
    prop .initial:n = {\__bithesis_get_const:n {prop}},
    cor .tl_set:N = \g__bithesis_const_autoref_cor_tl,
    cor .initial:n = {\__bithesis_get_const:n {cor}},
    axi .tl_set:N = \g__bithesis_const_autoref_axi_tl,
    axi .initial:n = {\__bithesis_get_const:n {axi}},
    defn .tl_set:N = \g__bithesis_const_autoref_defn_tl,
    defn .initial:n = {\__bithesis_get_const:n {defn}},
    conj .tl_set:N = \g__bithesis_const_autoref_conj_tl,
    conj .initial:n = {\__bithesis_get_const:n {conj}},
    exmp .tl_set:N = \g__bithesis_const_autoref_exmp_tl,
    exmp .initial:n = {\__bithesis_get_const:n {exmp}},
    case .tl_set:N = \g__bithesis_const_autoref_case_tl,
    case .initial:n = {\__bithesis_get_const:n {case}},
    rem .tl_set:N = \g__bithesis_const_autoref_rem_tl,
    rem .initial:n = {\__bithesis_get_const:n {rem}},
    figure .tl_set:N = \g__bithesis_const_autoref_fig_tl,
    figure .initial:n =  {\__bithesis_get_const:n {fig}},
    table .tl_set:N = \g__bithesis_const_autoref_tab_tl,
    table .initial:n =  {\__bithesis_get_const:n {tab}},
    equ .tl_set:N = \g__bithesis_const_autoref_equ_tl,
    equ .initial:n = {\__bithesis_get_const:n {equ}},
  }
\keys_define:nn { bithesis / const / style }
  {
    substituteSymbol .tl_set:N = \g__bithesis_const_substitute_symbol_tl,
    substituteSymbol .initial:n = {*},
  }
\keys_define:nn { bithesis / const / info }
  {
    degree .tl_set:N = \g__bithesis_const_info_degree_tl,
    degree .initial:n = {\c__bithesis_auto_tl},
    major .tl_set:N = \g__bithesis_const_info_major_tl,
    major .initial:n = {\c__bithesis_auto_tl},
  }
\keys_define:nn { bithesis / const / heading }
  {
    acknowledgements .tl_set:N = \g__bithesis_const_heading_acknowledgements_tl,
    acknowledgements .initial:n = {
      \__bithesis_get_const:n {ack}
    },
  }
\tl_new:N \l__bithesis_style_head_tl
\keys_define:nn { bithesis / style }
{
  head .tl_set:N = \l__bithesis_style_head_tl,
  head .initial:n = {
    \clist_item:Nn \c__bithesis_bachelor_thesis_header_clist \g__bithesis_thesis_type_int
  },
  headline .tl_set:N = \l__bithesis_style_headline_tl,
  headline .initial:n = {
    \clist_item:Nn \c__bithesis_bachelor_thesis_headline_clist \g__bithesis_thesis_type_int
  },
  bibliographyIndent .bool_set:N = \l__bithesis_style_bibliography_indent_bool,
  bibliographyIndent .initial:n = {true},
  pageVerticalAlign .choices:nn = {top, scattered} {
    \tl_if_eq:NnTF \l_keys_choice_tl {top}
      { \raggedbottom }
      { \flushbottom }
  },
  pageVerticalAlign .initial:n = {top},
  non-CJK-font-in-headings .choice:,
  non-CJK-font-in-headings / serif .code:n = { \bool_set_false:N \l__bithesis_arial_as_title_font_bool },
  non-CJK-font-in-headings / sans .code:n = { \bool_set_true:N \l__bithesis_arial_as_title_font_bool },
  non-CJK-font-in-headings .initial:n = {serif},
  % æ•°å­¦å­—ä½“é…ç½®
  mathFont .choices:nn = {
    asana, bonum, cm, concrete, dejavu, erewhon, euler,
    fira, garamond, gfsneohellenic, kp, libertinus, lm, newcm,
    pagella, schola, stix, stix2, termes, xcharter, xits, none,
    } { \tl_set_eq:NN \l__bithesis_style_math_font_tl \l_keys_choice_tl },
  mathFont .initial:n = {cm},
  % Options that will be pass to `unicode-math` pkgs.
  unicodeMathOptions .tl_set:N = \l__bithesis_unicode_math_options_tl,
  % Windows å¹³å°å¼€å¯å®‹ä½“ä¼ªç²—ä½“ã€‚
  windowsSimSunFakeBold .bool_set:N = \l__bithesis_style_windows_simsum_fake_bold,
  windowsSimSunFakeBold .initial:n = {false},
  % æ§åˆ¶è‹±æ–‡æ˜¯å¦ä½¿ç”¨ hyphen è¿›è¡Œæ¢è¡Œ
  hyphen .bool_set:N = \l__bithesis_style_hyphen_bool,
  hyphen .initial:n = {true},
  % æ§åˆ¶å…¬å¼å’Œä¸Šä¸‹æ–‡çš„è·ç¦»
  mathAboveDisplaySkip .dim_set:N = \l__bithesis_style_math_above_display_skip_dim,
  mathAboveDisplaySkip .initial:n = {10pt},
  mathBelowDisplaySkip .dim_set:N = \l__bithesis_style_math_below_display_skip_dim,
  mathBelowDisplaySkip .initial:n = {10pt},
  betterTimesNewRoman .bool_set:N = \l__bithesis_style_better_new_roman_bool,
  betterTimesNewRoman .initial:n = {false},
}
\keys_define:nn { bithesis / TOC }
{
  title .tl_set:N = \l__bithesis_toc_title_tl,
  title .initial:n = {
    \__bithesis_get_const:n {toc}
  },
  abstract .bool_set:N = \l__bithesis_add_abstract_to_toc_bool,
  abstract .initial:n = {true},
  abstractEn .bool_set:N = \l__bithesis_add_abstract_en_to_toc_bool,
  abstractEn .initial:n = {true},
  TOC .bool_set:N = \l__bithesis_add_toc_to_toc_bool,
  TOC .initial:n = {false},
  symbols .bool_set:N = \l__bithesis_add_symbols_to_toc_bool,
  symbols .initial:n = {true},
}
\keys_define:nn { bithesis / appendices }
{
  chapterLevel .bool_set:N = \l__bithesis_appendices_chapter_level_bool,
  title .tl_set:N = \l__bithesis_appendices_title_tl,
  TOCTitle .tl_set:N = \l__bithesis_appendix_toc_title_tl,
}
\keys_define:nn { bithesis / publications }
{
  sorting .bool_set:N = \l__bithesis_publications_sorting_bool,
  sorting .initial:n = {true},
  omit .bool_set:N = \l__bithesis_publications_omit_bool,
  omit .initial:n = {false},
  maxbibnames .int_set:N = \l__bithesis_publications_maxbibnames_int,
  maxbibnames .initial:n = {10},
  minbibnames .int_set:N = \l__bithesis_publications_minbibnames_int,
  minbibnames .initial:n = {10},
}
\keys_define:nn { bithesis / acknowledgements }
{
  showTitleInPeerReview .bool_set:N = \l__bithesis_acknowledgements_show_title_in_peer_review_bool,
  % æ­¤å¤„æš‚ä¸”å¡«å……é»˜è®¤å€¼ä¸º`false`ï¼Œå¾…ç¡®å®š`\g__bithesis_thesis_type_int`åå†æ ¹æ®è®ºæ–‡ç±»å‹è¦†ç›–é»˜è®¤å€¼
  showTitleInPeerReview .initial:n = {false},
}
\keys_define:nn { bithesis-internal / pre-frontmatter }
{
  % æ˜¯å¦å°†æ ‡é¢˜åŠ å…¥PDFä¹¦ç­¾
  bookmarked .bool_set:N = \l__bithesis_internal__pre_frontmatter__bookmarked_bool,
}
\keys_define:nn { bithesis-internal / conclusion }
{
  title .tl_set:N = \l__bithesis_internal__conclusion__title_tl,
}
\ProcessKeysOptions { bithesis / option }
\__bithesis_if_graduate:TF {
  \keys_set:nn {bithesis} {
    cover / hideCoverInPeerReview = false,
    acknowledgements / showTitleInPeerReview = true,
  }
} {
  \keys_set:nn {bithesis} {
    cover / hideCoverInPeerReview = true,
    acknowledgements / showTitleInPeerReview = false,
  }
}
\cs_new:Npn \__bithesis_resolve_auto_values: {
  \tl_if_eq:NnT \g__bithesis_const_info_degree_tl {\c__bithesis_auto_tl} {
    \tl_if_eq:NnTF \l__bithesis_value_degree_type_tl {academic} {
      \keys_set:nn {bithesis} {const/info/degree = \c__bithesis_graduate_label_degree_tl}
    } {
      \keys_set:nn {bithesis} {const/info/degree = ç”³\quad è¯·\quad ç±»\quad åˆ«}
    }
  }
  \tl_if_eq:NnT \g__bithesis_const_info_major_tl {\c__bithesis_auto_tl} {
    \__bithesis_if_graduate:TF {
      \tl_if_eq:NnTF \l__bithesis_value_degree_type_tl {academic} {
        \keys_set:nn {bithesis} {const/info/major = \c__bithesis_graduate_label_major_tl}
      } {
        \keys_set:nn {bithesis} {const/info/major = å­¦\quad ä½\quad é¢†\quad åŸŸ}
      }
    } {
      \keys_set:nn {bithesis} {const/info/major = \__bithesis_get_const:n {major}}
    }
  }
}
\__bithesis_if_thesis_english:T {
  \PassOptionsToClass{scheme=plain}{ctexbook}
}
\bool_if:NT \g__bithesis_blind_mode_bool {
  \bool_set_false:N \g__bithesis_twoside_bool
}
\bool_if:NTF \g__bithesis_twoside_bool {} {
  \PassOptionsToClass{oneside}{ctexbook}
}
\PassOptionsToClass{openany}{ctexbook}
\DeclareOption*{
  \PassOptionsToClass{\l__bithesis_options_to_ctex_tl}{ctexbook}
}
\PassOptionsToPackage{quiet,AutoFakeBold=\g__bithesis_auto_fake_bold_tl,AutoFakeSlant}{xeCJK}
\ProcessOptions\relax
\LoadClass[zihao=-4,]{ctexbook}
\RequirePackage{geometry}
\RequirePackage[table,xcdraw]{xcolor}
\RequirePackage[bodytextleadingratio=1.56]{zhlineskip}
\RequirePackage{titletoc}
\RequirePackage{graphicx}
\RequirePackage{fancyhdr}
\RequirePackage[nodisplayskipstretch]{setspace}
\RequirePackage{booktabs}
\RequirePackage{multirow}
\RequirePackage{tikz}
\RequirePackage{etoolbox}
\RequirePackage[bookmarksnumbered]{hyperref}
\RequirePackage[strut=off]{caption}
\RequirePackage{array}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{pifont}
\RequirePackage{amsthm}
\RequirePackage{pdfpages}
\RequirePackage{listings}
\RequirePackage{enumitem}
\RequirePackage{fmtcount}
\pdfstringdefDisableCommands{%
  \let\quad\empty
}
\__bithesis_if_graduate:TF {
  \int_gset:Nn \g__bithesis_head_zihao_int {5}
  \geometry{
    a4paper,
    left=2.7cm,
    bottom=2.5cm + 7bp,
    top=3.5cm + 7bp,
    right=2.7cm,
    % `headsep' is affected by `top' option.
    headsep = 3.5cm + 7bp - 2.5cm - 15bp,
    headheight = 15 bp,
    % `footskip' is affected by `bottom' option.
    footskip = 2.5cm + 7bp - 1.8cm,
  }
} {
  \int_gset:Nn \g__bithesis_head_zihao_int {4}
  \geometry{
    a4paper,
    left=3cm,
    bottom=2.6cm + 7bp,
    top=3.5cm + 7bp,
    right=2.6cm,
    % `headsep' is affected by `top' option.
    headsep = 3.5cm + 7bp - 2.4cm - 20bp,
    headheight = 20 bp,
    % `footskip' is affected by `bottom' option.
    footskip = 2.6cm + 7bp - 2cm,
  }
}
\ctex_at_end_preamble:n {
  \bool_if:NTF \l__bithesis_style_better_new_roman_bool {
    \defaultfontfeatures[TeX~Gyre~Termes]
    {
     Extension      = .otf ,
     UprightFont    = texgyretermes-regular,
     BoldFont       = texgyretermes-bold,
     ItalicFont     = texgyretermes-italic,
     BoldItalicFont = texgyretermes-bolditalic,
    }
    \setmainfont{TeX~Gyre~Termes}
  }{
    \setmainfont{Times~New~Roman}
    \setromanfont{Times~New~Roman}
  }
}
\cs_new:Npn \__bithesis_font_path:
  {
    \str_if_eq:VnTF \l__bithesis_font_type_tl { font }
      { }
      { Path = \l__bithesis_font_path_tl / , }
  }
\cs_new:Npn \__bithesis_load_unicode_math_pkg:
  {
    \PassOptionsToPackage { \l__bithesis_unicode_math_options_tl } { unicode-math }
    \RequirePackage { unicode-math }
  }
\cs_new:Npn \__bithesis_define_math_font:nn #1#2
  {
    \cs_new:cpn { __bithesis_load_math_font_ #1 : }
      {
        \__bithesis_load_unicode_math_pkg:
        \setmathfont { #2 }
      }
  }
\clist_map_inline:nn
  {
    { asana          } { Asana-Math.otf             },
    { concrete       } { Concrete-Math.otf          },
    { erewhon        } { Erewhon-Math.otf           },
    { euler          } { Euler-Math.otf             },
    { fira           } { FiraMath-Regular.otf       },
    { garamond       } { Garamond-Math.otf          },
    { gfsneohellenic } { GFSNeohellenicMath.otf     },
    { kp             } { KpMath-Regular.otf         },
    { libertinus     } { LibertinusMath-Regular.otf },
    { lm             } { latinmodern-math.otf       },
    { newcm          } { NewCMMath-Regular.otf      },
    { stix           } { STIXMath-Regular.otf       },
    { stix2          } { STIXTwoMath-Regular.otf    },
    { xcharter       } { XCharter-Math.otf          },
    { xits           } { XITSMath-Regular.otf       },
    { bonum          } { texgyrebonum-math.otf      },
    { dejavu         } { texgyredejavu-math.otf     },
    { pagella        } { texgyrepagella-math.otf    },
    { schola         } { texgyreschola-math.otf     },
    { termes         } { texgyretermes-math.otf     }
  }
  { \__bithesis_define_math_font:nn #1 }
\cs_new:Npn \__bithesis_load_math_font_cm: { }
\cs_new:Npn \__bithesis_load_math_font_none: { }
\cs_new:Npn \__bithesis_load_font:
  {
    \use:c { __bithesis_load_math_font_  \l__bithesis_style_math_font_tl  : }
  }
\ctex_at_end_preamble:n {
  % é’ˆå¯¹ Windows å­—ä½“é‡‡ç”¨ Fake Bold å®‹ä½“
  \bool_if:NT \l__bithesis_style_windows_simsum_fake_bold
  {
    \RequirePackage{ifplatform}
    \ifwindows
      \setCJKmainfont{SimSun}[AutoFakeBold,AutoFakeSlant]
    \fi
  }

  % åœ¨å¯¼è¨€åŒºæœ«å°¾åŠ è½½æ•°å­¦å­—ä½“ã€‚
  \__bithesis_load_font:

  % misc / hideLinks é€‰é¡¹
  \bool_if:NTF \l__bithesis_misc_hide_links_bool
    {
      \hypersetup { hidelinks }
    } {
      \definecolor{blue}{RGB}{10,10,110}
      \hypersetup{
        colorlinks=true,
      }
    }

  \bool_if:NTF \l__bithesis_arial_as_title_font_bool {
    % æ‰‹åŠ¨æŒ‡å®šæ—¶è¦åŠ è½½ Arial
    \newfontfamily\arialfamily{Arial}
  } {
    % å³ä½¿æœªæŒ‡å®šï¼Œæœ¬ç§‘å…¨è‹±æ–‡ä¸“ä¸šæ¨¡æ¿çš„å£°æ˜ä¹Ÿéœ€è¦ Arial
    \__bithesis_if_thesis_int_type:nT {3} {
      \newfontfamily\arialfamily{Arial}
    }
  }
  % æ— è®ºä¸­è‹±æ–‡ï¼Œå°é¢éƒ½å¯èƒ½éœ€è¦ç»†é»‘ä½“ã€‚
  \tl_if_blank:VTF \l__bithesis_cover_xihei_font_path_tl {}
  {
    \setCJKfamilyfont{xihei}[AutoFakeBold,AutoFakeSlant]
      {\l__bithesis_cover_xihei_font_path_tl}
  }

  % å¯¹äºæœ¬ç§‘å…¨è‹±æ–‡ä¸“ä¸šæ¨¡æ¿ï¼Œéœ€è¦è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼ã€‚
  \__bithesis_if_thesis_int_type:nT {3} {
    \RequirePackage[en-US]{datetime2}
    \RequirePackage{indentfirst}
    \DTMlangsetup[en-US]{dayyearsep={\space}}
  }

  % Define biblatex category if it was imported.
  % è¿™éƒ¨åˆ†æ˜¯ç»™ç ”ç©¶ç”Ÿæ¨¡æ¿ä¸­çš„
  % ã€Œæ”»è¯»å­¦ä½æœŸé—´å‘è¡¨è®ºæ–‡ä¸ç ”ç©¶æˆæœæ¸…å•ã€ä½¿ç”¨çš„ã€‚
  \cs_if_exist:NT \DeclareBibliographyCategory {
    \DeclareBibliographyCategory{mypub}
  }

  % Define biblatex strings if it was imported.
  % è¿™éƒ¨åˆ†æ˜¯ç»™ç ”ç©¶ç”Ÿæ¨¡æ¿ä¸­çš„
  % gbpunctin = false æ—¶ä½¿ç”¨çš„ã€‚
  \cs_if_exist:NT \DefineBibliographyStrings {
    \DefineBibliographyStrings{english}{in={}}
    \DefineBibliographyStrings{english}{incn={}}
  }

  % ä¿®æ”¹ biblatex ä¸­ã€Œä¸“åˆ©ã€ï¼ˆpatentï¼‰éƒ¨åˆ†çš„è‘—å½•æ ¼å¼ã€‚
  % ä¸»è¦æ ¹æ®åŒ—ç†å·¥è‡ªå®šä¹‰çš„è§„èŒƒï¼Œå‚è€ƒ biblatex å’Œ
  % biblatex-gb7714-2015 çš„å®ç°ä¿®æ”¹è€Œæˆã€‚
  %
  % é»˜è®¤ä¸å¼€å¯ï¼Œå› ä¸ºæ­¤ä¿®æ”¹å¯èƒ½ä¼šäº§ç”Ÿå…¶ä»–è¾¹ç•Œé—®é¢˜ã€‚
  \bool_if:NT \g__bithesis_quirks_mode_bool {
    \cs_if_exist:NT \DeclareBibliographyDriver {
      %
      %   é‡è®¾ä¸“åˆ©titleçš„è¾“å‡ºï¼Œå°†æ–‡çŒ®ç±»å‹æ ‡è¯†ç¬¦è¾“å‡ºå‡ºå»
      %
      \newbibmacro*{patenttitle}{%åŸè¾“å‡ºæ¥è‡ªbiblatex.defæ–‡ä»¶
        \ifboolexpr{%
          test{\iffieldundef{title}}%
          and%
          test{\iffieldundef{subtitle}}%
        }%
          {}%
          {\printtext[title]{\bibtitlefont%
             \printfield[titlecase]{title}%
             \ifboolexpr{test {\iffieldundef{subtitle}}}%è¿™é‡Œå¢åŠ äº†å¯¹å­æ ‡é¢˜çš„åˆ¤æ–­ï¼Œè§£å†³ä¸åˆ¤æ–­å¤šä¸€ä¸ªç‚¹çš„é—®é¢˜
             {}{\setunit{\subtitlepunct}%
             \printfield[titlecase]{subtitle}}%
              \iftoggle{bbx:gbtype}{\printfield[gbtypeflag]{usera}}{}%
             \iffieldundef{titleaddon}{}%åˆ¤æ–­ä¸€ä¸‹titleaddonï¼Œå¦åˆ™ç›´æ¥åŠ å¯èƒ½å¤šä¸€ä¸ªç©ºæ ¼
              {\setunit{\subtitlepunct}\printfield{titleaddon}}%
              % ï¼šåœ°åŒº
              \setunit{\subtitlepunct}\iflistundef{location}
                {}
                {\setunit*{\subtitlepunct}%
                 \printtext{%[parens]
                   \printlist[][-\value{listtotal}]{location}}}%
              % ï¼Œä¸“åˆ©å·
              \setunit{\addcomma\addspace}\printfield{number}%å†™ä¸“åˆ©å·
              \setunit{\addcomma\addspace}
              \usebibmacro{newsdate}%
           }%
        }%
      }

      %
      %   é‡å®šä¹‰ä¸“åˆ©æ–‡çŒ®é©±åŠ¨
      %
        \DeclareBibliographyDriver{patent}{%æºæ¥è‡ªstandard.BBX
        \usebibmacro{bibindex}%
        \usebibmacro{begentry}%
        \usebibmacro{author}%
        \ifnameundef{author}{}{\setunit{\labelnamepunct}\newblock}%è¿™ä¸€æ®µç”¨äºå»é™¤ä½œè€…ä¸å­˜åœ¨æ—¶å¤šå‡ºçš„æ ‡ç‚¹
        \usebibmacro{patenttitle}%ç»™å‡ºä¸“åˆ©ä¸“ç”¨çš„æ ‡é¢˜è¾“å‡º
        \iftoggle{bbx:gbstrict}{}{%
          \newunit%
          \printlist{language}%
          \newunit\newblock
          \usebibmacro{byauthor}
        }%
        \newunit\newblock
        \printfield{type}%
        \setunit*{\addspace}%
        \newunit\newblock
        \usebibmacro{byholder}%
        \newunit\newblock
        \printfield{note}%
        \newunit\newblock
        \usebibmacro{doi+eprint+url}%
        \newunit\newblock
        \usebibmacro{addendum+pubstate}%
        \setunit{\bibpagerefpunct}\newblock
        \usebibmacro{pageref}%
        \newunit\newblock
        \iftoggle{bbx:related}
          {\usebibmacro{related:init}%
           \usebibmacro{related}}
          {}%
        \usebibmacro{annotation}\usebibmacro{finentry}}
    }
  }
}
\cs_new:Npn \__bithesis_xihei:n #1 {
  \sys_if_engine_xetex:TF {
    \xeCJK_family_if_exist:nTF {xihei} {
      \CJKfamily{xihei} #1
    }{
      \heiti #1
    }
  } {
    \CJKfamily{xihei} #1
  }
}
\cs_new:Npn \__bithesis_title_font: {
  \bool_if:NTF \l__bithesis_arial_as_title_font_bool {
    % å³ä½¿æ˜¯è‹±æ–‡æ¨¡æ¿ï¼Œä»å¯èƒ½å‡ºç°ä¸­æ–‡ï¼Œä¹Ÿéœ€è®¾ç½®ä¸­æ–‡å­—ä½“ã€‚
    \heiti\arialfamily
  } {
    % è¥¿æ–‡ä¿æŒåŸæœ¬çš„ Times New Romanã€‚é»‘ä½“ä¸€èˆ¬ä¸æ­é…è¡¬çº¿ä½“ï¼Œä½†å­¦æ ¡è¦æ±‚å¦‚æ­¤ã€‚
    \heiti
  }
}
\cs_new:Npn \__bithesis_unnumchapter_style: {
  % æœ¬ç§‘å…¨è‹±æ–‡ã€ç ”ç©¶ç”Ÿå­¦ä½è®ºæ–‡éœ€è¦åŠ ç²—
  \int_compare:nNnTF {\g__bithesis_thesis_type_int} > {2} {
    \bfseries
  } {
    \mdseries
  }
}
\cs_set:Npn \arabicHeiti #1 {#1}
\fancypagestyle{BIThesis}{
  \fancyhf{}
  % å®šä¹‰é¡µçœ‰ã€é¡µç 
  \fancyhead[C]{
    \zihao{\int_use:N \g__bithesis_head_zihao_int}
    \ziju{0.08}\songti
    \tl_use:N \l__bithesis_style_head_tl
  }
  \fancyfoot[C]{\songti\zihao{5} \thepage}
  % é¡µçœ‰åˆ†å‰²çº¿ç¨å¾®ç²—ä¸€äº›
  \RenewDocumentCommand \headrulewidth {} {0.6pt}
}
\ctexset{chapter={
    number = {\arabicHeiti{ \arabic{chapter} }},
    format = { \__bithesis_title_font: \bfseries \centering \zihao{3}},
    nameformat = {},
    titleformat = {},
    aftername = \hspace{9bp},
    pagestyle = BIThesis,
    beforeskip = \__bithesis_if_graduate:TF {13bp} {8bp},
    afterskip = \__bithesis_if_graduate:TF {24.5bp} {32bp},
    fixskip = true,
    lofskip = 0cm,
    lotskip = 0cm,
  }
}

\ctexset{section={
    number = {\arabicHeiti{\thechapter.\hspace{1bp}\arabic{section}}},
    format = {\__bithesis_title_font: \raggedright \bfseries \zihao{4}},
    nameformat = {},
    titleformat = {},
    aftername = \hspace{8bp},
    beforeskip = \__bithesis_if_graduate:TF {26bp} {20bp},
    afterskip = \__bithesis_if_graduate:TF {18bp} {17bp},
    fixskip = true,
  }
}

\ctexset{subsection={
    number = {
      \arabicHeiti{
        \thechapter.\hspace{1bp}
        \arabic{section}.\hspace{1bp}
        \arabic{subsection}
      }
    },
    format = {\__bithesis_title_font: \bfseries \raggedright \zihao{-4}},
    nameformat = {},
    titleformat = {},
    aftername = \hspace{7bp},
    beforeskip = 17bp,
    afterskip = 17bp,
    fixskip = true,
  }
}

\ctexset{
  secnumdepth = 3,
  subsubsection={
    numbering = true,
    number = {
      \arabicHeiti{
        \arabic{chapter}.\hspace{1bp}
        \arabic{section}.\hspace{1bp}
        \arabic{subsection}.\hspace{1bp}
        \arabic{subsubsection}
      }
    },
    format={\__bithesis_title_font: \raggedright \zihao{-4}},
    nameformat = {},
    titleformat = {},
    beforeskip=14bp,
    afterskip=14bp,
    fixskip=true,
  }
}
\addtocontents{toc}{\protect\hypersetup{hidelinks}}

\__bithesis_if_graduate:TF {
  % å¯¹äºç ”ç©¶ç”Ÿæ¨¡æ¿ï¼Œã€Šæ’°å†™è§„èŒƒã€‹è¦æ±‚å„çº§æ ‡é¢˜å­—å·ä¸åŒï¼Œä¸”ç¼©è¿› 2n å­—ç¬¦ã€‚
  % ä¸ºå°½å¯èƒ½è§†è§‰å¯¹é½ï¼Œç¼©è¿›çš„å­—å®½ç»Ÿä¸€æŒ‰å››å· 14ptï¼Œé¡µç ç»Ÿä¸€æŒ‰å°å››ã€‚
  % chapter ä¸ç¼©è¿›ï¼Œæ ‡é¢˜å››å·ï¼Œé¡µç å°å››ã€‚è¡Œè·ä¸ºä¿æŒä¸å…¶å®ƒé¡¹ç›¸åŒï¼Œè®¾å®šä¸ºï¼šåŸæœ¬ baselinestretch 1.56 Ã— å°å›› 12pt / å››å· 14pt = 1.33714 å€ã€‚
  \titlecontents{chapter}[0pt]{\songti \zihao{4} \linespread{1.33714}\selectfont}
  {\thecontentslabel\unskip\hspace{\ccwd}}{}
  {\hspace{.5em}\zihao{-4}\titlerule*{.}\contentspage}
  % section ç¼©è¿›ä¸¤å­—ï¼Œå…¨éƒ¨å°å››ã€‚
  \titlecontents{section}[14pt * 2]{\songti \zihao{-4}}
  {\thecontentslabel\hspace{\ccwd}}{}
  {\hspace{.5em}\titlerule*{.}\contentspage}
  % subsection ç¼©è¿›å››å­—ï¼Œå…¨éƒ¨å°å››ã€‚
  \titlecontents{subsection}[14pt * 4]{\songti \zihao{-4}}
  {\thecontentslabel\hspace{\ccwd}}{}
  {\hspace{.5em}\titlerule*{.}\contentspage}
} {
  % å¯¹äºå…¶ä»–ï¼Œå®šä¹‰å„ç« æ ‡é¢˜ä¸ºå®‹ä½“å°å››å·ã€‚
  \titlecontents{chapter}[0pt]{\songti \zihao{-4}}
  {\thecontentslabel\unskip\hspace{\ccwd}}{}
  {\hspace{.5em}\titlerule*{.}\contentspage}
  % section æ ‡é¢˜ä¸ºå®‹ä½“å°å››å·ã€‚
  \titlecontents{section}[1\ccwd]{\songti \zihao{-4}}
  {\thecontentslabel\hspace{\ccwd}}{}
  {\hspace{.5em}\titlerule*{.}\contentspage}
  % subsection æ ‡é¢˜ä¸ºå®‹ä½“å°å››å·ã€‚
  \titlecontents{subsection}[2\ccwd]{\songti \zihao{-4}}
  {\thecontentslabel\hspace{\ccwd}}{}
  {\hspace{.5em}\titlerule*{.}\contentspage}
}
\titlecontents{figure}[0pt]{\songti\zihao{-4}}
    {\figurename~\thecontentslabel\quad}{\hspace*{-1.5cm}}
    {\hspace{.5em}\titlerule*{.}\contentspage}
\titlecontents{table}[0pt]{\songti\zihao{-4}}
    {\tablename~\thecontentslabel\quad}{\hspace*{-1.5cm}}
    {\hspace{.5em}\titlerule*{.}\contentspage}
\RenewDocumentCommand \frontmatter {} {
  \pagenumbering{Roman}
  % è¿™éƒ¨åˆ†çš„ç« èŠ‚æ ‡é¢˜ä¸è¿›è¡Œç¼–å·ã€‚
  \ctexset{
    chapter = {
      numbering = false,
    }
  }
  \linespread{1.53}\selectfont
  \pagestyle{BIThesis}

  % è°ƒæ•´è¡¨æ ¼å†…å®¹å­—å·ï¼ˆé»˜è®¤äº”å·ï¼‰å’Œå„è¡Œä¹‹é—´çš„è·ç¦»ã€‚
  %
  % ç”±äºè¿™ç§æ–¹å¼ä¼šå½±å“æ‰€æœ‰çš„è¡¨æ ¼ï¼Œ
  % æ‰€ä»¥æˆ‘ä»¬å°½å¯èƒ½å»¶è¿Ÿè¿™ç§å½±å“ã€‚
  %
  % ä¸è¿‡ï¼Œåœ¨ç›®å‰çš„ä»£ç å®ç°ä¸­æ²¡æœ‰åœ¨å°é¢
  % ä¹‹ç±»çš„åœ°æ–¹ä½¿ç”¨è¡¨æ ¼ï¼Œæ‰€ä»¥ç›®å‰å³ä½¿æ”¾åœ¨
  % preamble ä¸­ä¹Ÿä¸ä¼šæœ‰å½±å“ã€‚
  %
  % æ”¯æŒæ ‡å‡†tabularã€tabular*ç¯å¢ƒå’Œå®åŒ…tabularxã€longtableã€‚
  \clist_map_inline:nn
    {tabular, tabular*, tabularx, longtable}
    {
      \AtBeginEnvironment {##1} {
        % å­—å·åªæƒ³è®¾ç½®è¡¨æ ¼å†…å®¹ï¼Œä¸æƒ³å½±å“captionã€‚
        % ä¸€èˆ¬captionåœ¨ç¯å¢ƒä¹‹å¤–ï¼Œè‡ªç„¶ä¸å—å½±å“ï¼›
        % è€Œlongtableçš„captionè™½åœ¨ç¯å¢ƒå†…ï¼Œä½†captionå®åŒ…èƒ½æ­£å¸¸å¤„ç†ã€‚
        \zihao{\l__bithesis_misc_tabular_font_size_tl}
        % å„è¡Œé—´è·åªæƒ³å½±å“è¡¨æ ¼ï¼Œä¸æƒ³å½±å“çŸ©é˜µï¼Œå› æ­¤ä¹Ÿå¿…é¡»åœ¨é’©å­ä¸­è®¾ç½®ã€‚
        \cs_set:Npn \arraystretch {\l__bithesis_misc_tabular_row_separation_tl}
      }
    }
}
\RenewDocumentCommand \mainmatter {} {
  % å¦èµ·ä¸€ä¸ªç©ºé¡µï¼Œä»¥ä¾¿äºåç»­çš„ç« èŠ‚æ ‡é¢˜ç¼–å·ã€‚
  % \clearpage
  \cleardoublepage
  % è¿™éƒ¨åˆ†çš„ç« èŠ‚æ ‡é¢˜è¿›è¡Œç¼–å·ã€‚
  \ctexset{
    chapter = {
      numbering = true,
    }
  }
  % é¡µç ä½¿ç”¨é˜¿æ‹‰ä¼¯æ•°å­—ã€‚
  \pagenumbering{arabic}
  \pagestyle{BIThesis}
  % æ­£æ–‡ 22 ç£…çš„è¡Œè·
  \setlength{\parskip}{0em}
  \linespread{1.53}\selectfont
  % ä¿®å¤è„šæ³¨å‡ºç°è·¨é¡µçš„é—®é¢˜
  \interfootnotelinepenalty=10000
}
\RenewDocumentCommand \backmatter {} {
  % åŒæ ·ï¼Œæ‰€æœ‰çš„ç« èŠ‚æ ‡é¢˜ä¸è¿›è¡Œç¼–å·ã€‚
  \setcounter{section}{0}
  \setcounter{subsection}{0}
  \setcounter{subsubsection}{0}
  \ctexset{
    chapter = {
      numbering = false,
      beforeskip = 18bp,
      format = {
        \__bithesis_title_font: \__bithesis_unnumchapter_style: \centering \zihao{3}
      },
      afterskip = \__bithesis_if_graduate:TF {31bp} {26bp},
    }
  }
}
\__bithesis_if_graduate:TF {
  \captionsetup[table]{skip=8bp}
} {
  \setlength{\abovecaptionskip}{11pt}

  % è°ƒæ•´è¡¨æ ¼ caption å’Œè¡¨æ ¼æœ¬ä½“é—´çš„è·ç¦»ã€‚
  % è‹±æ–‡æ¨¡æ¿ç¼ºä¹è§„å®šï¼Œåªè°ƒæ•´ä¸­æ–‡æ¨¡æ¿
  \__bithesis_if_thesis_english:F {
    % æœ¬æ¥é»˜è®¤æœ‰ä¸€å®šç©ºéš™ï¼Œç°æ”¹ä¸ºç´§è´´ï¼Œè¿™æ ·æ›´æ¥è¿‘Wordæ¨¡æ¿å®ä½œã€‚
    \captionsetup[table]{skip=5pt}
  }
}
\__bithesis_if_graduate:TF {
  % ä¿ç•™â€œæ­£æ–‡ ğŸ¡˜ å›¾ç‰‡æœ¬ä½“â€è·ç¦»ä¸åŠ¨ï¼Œç¼©å°â€œè¡¨æ ¼æœ¬ä½“ ğŸ¡˜ æ­£æ–‡â€å®é™…è·ç¦»ï¼Œä½¿äºŒè€…ç›¸è¿‘
  \AtBeginEnvironment{table}{
    \setlength{\intextsep}{3bp plus 1pt minus 1pt}
  }

  % è°ƒæ•´â€œæ­£æ–‡ ğŸ¡˜ è¡¨æ ¼ captionâ€è·ç¦»
  \captionsetup[table]{belowskip = 6bp + 0.25\baselineskip}

  % è°ƒæ•´â€œå›¾ç‰‡ caption ğŸ¡˜ æ­£æ–‡â€è·ç¦»
  % è¿™ä¸€è·ç¦»æ˜¯ intextsep ä¸ belowcaptionskip ä¹‹å’Œã€‚
  % å‰è€…åœ¨å°å›› ctexbook ä¸­é»˜è®¤ä¸º`14.0pt plus 4.0pt minus 4.0pt`ï¼Œæˆ‘ä»¬æœªæ”¹ã€‚
  % è®¡ç®—ä¸‹æ¥ï¼Œåè€…åº”è®¾ç½®ä¸º 14.0pt - 6bp å·¦å³ã€‚
  \captionsetup[figure]{belowskip = -12pt}
  % æµ®åŠ¨ä½“è¿ç»­æ’åˆ—æ—¶ï¼Œè¡¥å¿ä»¥ä¸Šè´Ÿé—´è·
  \addtolength{\floatsep}{12pt}

  % é€‚é…å­å›¾
  \captionsetup[subfigure]{aboveskip = 3bp, belowskip = 3bp}

  \AtBeginDocument {
    % longtable å®åŒ…æœ‰å¦å¤–çš„æœºåˆ¶ï¼Œéœ€ä¸“é—¨è°ƒæ•´
    \@ifpackageloaded{longtable}{
      \setlength{\LTpre}{0.2\baselineskip plus 0.2\baselineskip minus 0.2\baselineskip}
      \setlength{\LTpost}{0.1\baselineskip plus 0.2\baselineskip minus 0.2\baselineskip}
    }{}
  }
} {
  % æµ®åŠ¨ä½“ä½äºæ­£æ–‡ä¸­é—´æ—¶ï¼Œè°ƒæ•´æµ®åŠ¨ä½“ä¸ä¸Šä¸‹æ­£æ–‡ä¹‹é—´çš„è·ç¦»ï¼Œå³"å‰ååŠ ä¸Šä¸€è¡Œç©ºç™½"
  \setlength{\intextsep}{1.80\baselineskip plus 0.2\baselineskip minus 0.2\baselineskip}
  % æµ®åŠ¨ä½“ä½äºé¡µé¢é¡¶éƒ¨æˆ–åº•éƒ¨æ—¶ï¼Œè°ƒæ•´æµ®åŠ¨ä½“ä¸æ­£æ–‡ä¹‹é—´çš„è·ç¦»ï¼Œåæˆ–å‰åŠ ä¸Šä¸€è¡Œç©ºç™½
  \setlength{\textfloatsep}{1.80\baselineskip plus 0.2\baselineskip minus 0.2\baselineskip}

  \__bithesis_if_thesis_english:TF {
    \setlength{\belowcaptionskip}{9pt}
  } {
    % ä¸ºäº†æ»¡è¶³â€œå‰åä¸€è¡Œç©ºç™½çš„é—®é¢˜â€ï¼Œéœ€è¦åˆ é™¤ caption ä¸‹æ–¹çš„é—´è·ã€‚
    %
    % è¿™é‡Œå®é™…çš„ skip åœ¨ 15pt å·¦å³ï¼Œä½†æ˜¯å…¨éƒ¨ç§»é™¤ä¼šå¯¼è‡´å½“å›¾ç‰‡ç½®äºé¡µé¢é¡¶éƒ¨æ—¶ï¼Œ
    % å›¾ç‰‡ä¸ä¸Šæ–¹çš„é—´è·è¿‡å°ï¼Œå› æ­¤è¿™é‡Œåªç§»é™¤ 5ptã€‚
    % å½“ç„¶ï¼Œè¿™æ ·ä¼šå¯¼è‡´æ–‡æœ¬é—´çš„å›¾ç‰‡çš„ caption ä¸‹æ–¹çš„é—´è·å¾®å¾®å¤§äºä¸€è¡Œã€‚
    %
    % è‡³äºè¡¨æ ¼ï¼Œ`caption`å®åŒ…å·²è€ƒè™‘å¸ƒå±€åŒºåˆ«ï¼Œç»Ÿä¸€è®¾ç½® belowskip å³å¯ã€‚
    \captionsetup{belowskip=-5pt}
    % ä¸è¿‡ longtable å®åŒ…æœ‰å¦å¤–çš„æœºåˆ¶ï¼Œä¸è®¾ç½® belowskip æ—¶é—´è·å·²å¯è¾ƒå°ï¼Œ
    % è®¾ç½®æˆè´Ÿæ•°è¿˜å¯¼è‡´ caption å’Œè¡¨æ ¼æœ¬ä½“çš„è·ç¦»å˜å¤§ã€‚å› æ­¤æˆ‘ä»¬æ’¤é”€æ›´æ”¹ã€‚
    \captionsetup[longtable]{belowskip=0pt}

  }
  \AtBeginDocument {
    % longtable å®åŒ…æœ‰å¦å¤–çš„æœºåˆ¶ï¼Œéœ€ä¸“é—¨è°ƒæ•´
    \@ifpackageloaded{longtable}{
      \setlength{\LTpre}{1.60\baselineskip plus 0.2\baselineskip minus 0.2\baselineskip}
      \setlength{\LTpost}{1.60\baselineskip plus 0.2\baselineskip minus 0.2\baselineskip}
    }{}
  }
}
\__bithesis_if_graduate:TF {
  \tl_gset:Nn \g__bithesis_label_divide_char_tl {.}
  % ç ”ç©¶ç”Ÿæ¨¡æ¿è¦æ±‚ "å›¾åºå’Œå›¾é¢˜é—´ç©º1ä¸ªä¸­æ–‡å­—è·"
  \captionsetup[figure]{font=small,labelsep=quad}
  % ç ”ç©¶ç”Ÿæ¨¡æ¿è¦æ±‚ "è¡¨åºå’Œé¢˜ç›®é—´ç©º1ä¸ªä¸­æ–‡å­—è·"
  \captionsetup[table]{font=small,labelsep=quad}
  % å…¶å®ƒ caption ä¹Ÿå‚ç…§ä¸Šè¿°æ ¼å¼
  \captionsetup[lstlisting]{font=small,labelsep=quad}
  \captionsetup[algorithm]{font=small,labelsep=quad}
} {
  \tl_gset:Nn \g__bithesis_label_divide_char_tl {-}
  % æœ¬ç§‘ç”Ÿæ¨¡æ¿æ—  caption å­—è·è¦æ±‚
  \captionsetup[figure]{font=small,labelsep=space}
  \captionsetup[table]{font=small,labelsep=space}
  \captionsetup[lstlisting]{font=small,labelsep=space}
  \captionsetup[algorithm]{font=small,labelsep=space}
}
\ctex_at_end_package:nn {algorithm2e} {
  \SetAlCapFnt{\small}
  \SetAlCapNameFnt{\small}
}
\clist_map_inline:nn {longtable, table, algorithm} {
  \AtBeginEnvironment {#1} { \setstretch{1} }
}
\AtBeginEnvironment {algorithmic} {\small}
\ctex_at_end_package:nn {algorithm2e} { \SetAlFnt{\small} }
\__bithesis_if_thesis_english:F {
  \ctex_at_end_package:nn {algorithm2e} {
    \SetKwInput{KwData}{æ•°æ®}
    \SetKwInput{KwResult}{ç»“æœ}
    \SetKwInput{KwIn}{è¾“å…¥}
    \SetKwInput{KwOut}{è¾“å‡º}
  }
  \ctex_at_end_package:nn {algorithmic} {
    \renewcommand*{\algorithmicrequire}{\textbf{è¾“å…¥ï¼š}}
    \renewcommand*{\algorithmicensure}{\textbf{è¾“å‡ºï¼š}}
  }
}
\cs_set:Npn \thefigure {\thechapter\g__bithesis_label_divide_char_tl\arabic{figure}}

\cs_set:Npn \thetable {\thechapter\g__bithesis_label_divide_char_tl\arabic{table}}

\cs_set:Npn \theequation {\thechapter\g__bithesis_label_divide_char_tl\arabic{equation}}

\ctex_at_end_package:nn {cleveref} {
  % cleveref æ”¯æŒåŒä¸€å¤„å¼•ç”¨å¤šä¸ªæ ‡ç­¾ï¼Œè‹±æ–‡æ¶‰åŠå•å¤æ•°ä¸¤ä¸ªå€¼ï¼›
  % è€Œ BITSetup ä¸»è¦ä¸ºä¸­æ–‡è®¾è®¡ï¼Œæ¥å£åªå…è®¸ä¸€ä¸ªå€¼ï¼Œæ— æ³•ç®€å•å¥—ç”¨åˆ°è‹±æ–‡ã€‚
  % å†è€ƒè™‘åˆ°æˆ‘æ ¡ç¼ºä¹è‹±æ–‡è§„èŒƒï¼Œæˆ‘ä»¬å¹²è„†åªç»™ä¸­æ–‡é€‚é…ï¼Œè‹±æ–‡æ²¿ç”¨ cleveref é»˜è®¤ï¼Œæœ€ç»ˆä½œè€…æœ‰éœ€è¦å¯ä»¥è¦†å†™ã€‚
  \__bithesis_if_thesis_english:F {
    % â€œç¬¬â€¦â€¦â€æ ¼å¼åœ¨ç¼–å·åæœ‰å­—ï¼Œautoref æ— æ³•å¯é è®¾ç½®ï¼ŒBITSetup ä¹Ÿéš¾ä»¥é¢„ç•™æ¥å£
    \crefformat{chapter}{ç¬¬~#2#1#3~ç« }
    \crefformat{section}{ç¬¬~#2#1#3~èŠ‚}
    \crefformat{subsection}{ç¬¬~#2#1#3~å°èŠ‚}
    \crefformat{subsubsection}{ç¬¬~#2#1#3~å°èŠ‚}
    % æ™®é€šæ ¼å¼æ²¿ç”¨ autoref è®¾ç½®
    \crefname{figure}{\figureautorefname}{\figureautorefname}
    \crefname{table}{\tableautorefname}{\tableautorefname}
    \crefname{listing}{\c__bithesis_label_code_tl}{\c__bithesis_label_code_tl}
    \crefname{algorithm}{\l__bithesis_misc_autoref_algo_tl}{\l__bithesis_misc_autoref_algo_tl}
    \crefname{algo}{\l__bithesis_misc_autoref_algo_tl}{\l__bithesis_misc_autoref_algo_tl}
    \crefname{them}{\themautorefname}{\themautorefname}
    \crefname{lem}{\lemautorefname}{\lemautorefname}
    \crefname{prop}{\propautorefname}{\propautorefname}
    \crefname{cor}{\corautorefname}{\corautorefname}
    \crefname{axi}{\axiautorefname}{\axiautorefname}
    \crefname{defn}{\defnautorefname}{\defnautorefname}
    \crefname{conj}{\conjautorefname}{\conjautorefname}
    \crefname{exmp}{\exmpautorefname}{\exmpautorefname}
    \crefname{case}{\caseautorefname}{\caseautorefname}
    \crefname{rem}{\remautorefname}{\remautorefname}
    % åŒä¸€å¤„å¼•ç”¨å¤šä¸ªå…¬å¼è¾ƒä¸ºå¸¸è§ï¼Œä¸“é—¨é€‚é…
    % #2ã€#3 æ ‡è¯†çš„é“¾æ¥èŒƒå›´ä¸å¯åŒ…å«æ‹¬å·ï¼Œå¦åˆ™å½±å“æ ‡ç‚¹æŒ¤å‹ã€‚
    \crefformat{equation}{\equationautorefnameï¼ˆ#2#1#3ï¼‰}
    \crefrangeformat{equation}{\equationautorefnameï¼ˆ#3#1#4ï¼‰è‡³ï¼ˆ#5#2#6ï¼‰}
    \crefmultiformat{equation}{\equationautorefnameï¼ˆ#2#1#3ï¼‰}{å’Œï¼ˆ#2#1#3ï¼‰}{ã€ï¼ˆ#2#1#3ï¼‰}{å’Œï¼ˆ#2#1#3ï¼‰}
  }
}

\AtBeginDocument{
  \cs_gset:Npn \thelstlisting {\thechapter\g__bithesis_label_divide_char_tl\arabic{lstlisting}}
  \cs_gset:Npn \lstlistingname {\c__bithesis_label_code_tl}

  % å®šä¹‰ç®—æ³•æ ‡é¢˜
  % é’ˆå¯¹æ¨¡æ¿çš„ algo ç¯å¢ƒ
  \tl_set:Nn \algoautorefname {\l__bithesis_misc_autoref_algo_tl}
  % é’ˆå¯¹ algorithm å®åŒ…
  \tl_set:Nn \ALG@name {\l__bithesis_misc_autoref_algo_tl}
  % é’ˆå¯¹ algorithm2e å®åŒ…
  \tl_set:Nn \algorithmcfname {\l__bithesis_misc_autoref_algo_tl}

  % å®šä¹‰ç®—æ³•çš„ autoref
  % algorithm2e å®åŒ…ä¼šè¦†å†™å®ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»AtBeginDocumentæ—¶å†ä¿®æ”¹
  \tl_set:Nn \algorithmautorefname {\l__bithesis_misc_autoref_algo_tl}

  % ç®—æ³•å˜æˆã€Œç« èŠ‚å·-åºå·ã€
  % ä¸ºäº†å‡å°‘ä¿®æ”¹ï¼Œæˆ‘ä»¬åªé€‚é…æŒ‰ç« ç¼–å·çš„æƒ…å†µã€‚
  % é’ˆå¯¹ algorithm å®åŒ…
  \@ifpackagewith{algorithm}{chapter}{
    \cs_gset:Npn \thealgorithm
    {\thechapter\g__bithesis_label_divide_char_tl\arabic{algorithm}}
  }{}
  % é’ˆå¯¹ algorithm2e å®åŒ…
  \@ifpackagewith{algorithm2e}{algochapter}{
    % åå­—ä¸­çš„â€œcfâ€æ˜¯æŒ‡å…¶ä½œè€… Christophe Fiorioã€‚
    \cs_gset:Npn \thealgocf
    {\thechapter\g__bithesis_label_divide_char_tl\arabic{algocf}}
  }{}

  % é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œä¿ç•™å…¬å¼å’Œä¸Šä¸‹æ–‡çš„ä¸€å®šé—´è·ã€‚ï¼ˆä¼šæ¯” Word ç¨å®½ä¸€äº›ï¼‰
  \setlength{\abovedisplayskip}{\l__bithesis_style_math_above_display_skip_dim}
  \setlength{\abovedisplayshortskip}{\l__bithesis_style_math_above_display_skip_dim}
  \setlength{\belowdisplayskip}{\l__bithesis_style_math_below_display_skip_dim}
  \setlength{\belowdisplayshortskip}{\l__bithesis_style_math_below_display_skip_dim}
  % è°ƒæ•´æµ®åŠ¨ä½“ä¸æ–‡å­—ä¹‹é—´çš„è·ç¦»
  \addtolength{\intextsep}{\l__bithesis_misc_float_separation_tl\baselineskip}
  \addtolength{\textfloatsep}{\l__bithesis_misc_float_separation_tl\baselineskip}
  % longtable å®åŒ…æœ‰å¦å¤–çš„æœºåˆ¶ï¼Œéœ€ä¸“é—¨è°ƒæ•´
  \@ifpackageloaded{longtable}{
    \addtolength{\LTpre}{\l__bithesis_misc_float_separation_tl\baselineskip}
    \addtolength{\LTpost}{\l__bithesis_misc_float_separation_tl\baselineskip}
  }{}
  % è°ƒæ•´ç®—æ³•ä¸æ–‡å­—ä¹‹é—´çš„è·ç¦»
  % é’ˆå¯¹ algorithm2e å®åŒ…
  \@ifpackageloaded{algorithm2e}{
    % å®åŒ…æ‰‹å†Œä»‹ç»å¯è‡ªå®šä¹‰å®ï¼Œå†`\SetAlgoSkip`ï¼›æˆ‘ä»¬ä¸ºç®€æ´ï¼Œç›´æ¥è¦†å†™ã€‚
    \renewcommand{\@algoskip}{\vspace{\l__bithesis_misc_algorithm_separation_tl}}
  }{}
}
\bool_if:NF \l__bithesis_style_hyphen_bool {
  \hbadness=10000
  \tolerance=1
  \emergencystretch=\maxdimen
  \hyphenpenalty=10000
}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\lstdefinestyle{examplestyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}
\lstset{style=examplestyle}
\cs_set:Npn \listfigurename {\currentpdfbookmark{\c__bithesis_label_figure_tl}{ch:figures}\__bithesis_get_const:n {figure}}
\cs_set:Npn \listtablename {\currentpdfbookmark{\c__bithesis_label_table_tl}{ch:tables}\__bithesis_get_const:n {table}}
\theoremstyle{plain}
  \newtheorem{algo}{\__bithesis_get_const:n {algo}}[chapter]
  \newtheorem{them}{\__bithesis_get_const:n {them}}[chapter]
  \newtheorem{lem}{\__bithesis_get_const:n {lem}}[chapter]
  \newtheorem{prop}{\__bithesis_get_const:n {prop}}[chapter]
  \newtheorem{cor}{\__bithesis_get_const:n {cor}}[chapter]
  \newtheorem{axi}{\__bithesis_get_const:n {axi}}[chapter]
\theoremstyle{definition}
  \newtheorem{defn}{\__bithesis_get_const:n {defn}}[chapter]
  \newtheorem{conj}{\__bithesis_get_const:n {conj}}[chapter]
  \newtheorem{exmp}{\__bithesis_get_const:n {exmp}}[chapter]
  \newtheorem{case}{\__bithesis_get_const:n {case}}
\theoremstyle{remark}
  \newtheorem{rem}{\__bithesis_get_const:n {rem}}
  \renewcommand{\qedsymbol}{\ensuremath{\blacksquare}}
\cs_new:Npn \__bithesis_dunderline:nnn #1#2#3 {
  {\setbox0=\hbox{#3}\ooalign{\copy0\cr\rule[\dimexpr#1-#2\relax]{\wd0}{#2}}}
}
\cs_new:Npn \__bithesis_dunderline:nn #1#2 {
  \__bithesis_dunderline:nnn {#1} {1pt} {#2}
}
\cs_new:Npn \__bithesis_dunderline:n #1 {
  \__bithesis_dunderline:nnn {-10pt} {1pt} {#1}
}
\newcommand\dunderline[3][-1pt]{{%
  \setbox0=\hbox{#3}
  \ooalign{\copy0\cr\rule[\dimexpr#1-#2\relax]{\wd0}{#2}}}}
\cs_new:Npn \__bithesis_render_cover_entry:nn #1#2 {
  \makebox[\l__bithesis_cover_label_max_width_dim][\l__bithesis_cover_label_align_tl]{
    \tl_if_blank:VTF #1 {} {#1}
  }
  \hspace{1ex}
  \__bithesis_dunderline:nnn{\l__bithesis_cover_underline_offset_dim}
    {\l__bithesis_cover_underline_thickness_dim}{
    \makebox[\l__bithesis_cover_value_max_width_dim][\l__bithesis_cover_value_align_tl]{#2}
  }\par
}

\cs_new:Nn \__bithesis_cover_entry_rendered_width: {
  \l__bithesis_cover_label_max_width_dim + 1ex + \l__bithesis_cover_value_max_width_dim
}
\cs_new:Npn \__bithesis_get_text_width:Nn #1#2
  {
    \hbox_set:Nn \l_tmpa_box {#2}
    \dim_set:Nn #1 { \box_wd:N \l_tmpa_box }
  }
\cs_generate_variant:Nn \__bithesis_get_text_width:Nn { NV }
\cs_new:Npn \__bithesis_get_max_text_width:NN #1#2
  {
    \group_begin:
      \seq_set_eq:NN \l__bithesis_tmpa_seq #2
      \dim_zero:N #1
      \dim_zero_new:N \l__bithesis_tmpa_dim
      \bool_until_do:nn { \seq_if_empty_p:N \l__bithesis_tmpa_seq }
        {
          \seq_pop_left:NN \l__bithesis_tmpa_seq \l__bithesis_tmpa_tl
          \__bithesis_get_text_width:NV \l__bithesis_tmpa_dim \l__bithesis_tmpa_tl
          \dim_gset:Nn #1 { \dim_max:nn {#1} { \l__bithesis_tmpa_dim } }
        }
    \group_end:
  }
\cs_new:Npn \__bithesis_parse_entry:nn #1 #2 {
  \seq_clear:N \l__bithesis_tmp_left_seq
  \seq_clear:N \l__bithesis_tmp_right_seq

  % åªå¤„ç† value éç©ºçš„é¡¹
  \tl_set:Nn \l_tmpa_tl {#2}
  \tl_if_empty:xTF {\l_tmpa_tl} {} {
    \seq_set_split:Nnx \l__bithesis_tmp_right_seq {\\} {#2}
    \seq_map_inline:Nn \l__bithesis_tmp_right_seq {
      \seq_put_right:Nn \l__bithesis_tmp_left_seq {}
    }
    \seq_put_left:Nn \l__bithesis_tmp_left_seq {#1\l__bithesis_cover_delimiter_tl}
    \seq_pop_right:NN \l__bithesis_tmp_left_seq \g__bithesis_trashcan_tl
  }
}
\msg_new:nnn { bithesis } { render-cover-entry/overfull-hbox }
  {
    One~or~more~cover~entries~are~too~wide,~which~may~result~in~poor~layout.\\
    To~fix~it,~please~split~long~entries~into~multiple~lines~by~inserting~â€œ\c_backslash_str\c_backslash_strâ€.\\
    \__bithesis_warning_footer:n { render-cover-entry/overfull-hbox }
  }
\cs_new:Npn \__bithesis_render_cover_entry:N #1 {
  % å·¦è¾¹æ˜¯æ ‡ç­¾ï¼Œå³è¾¹æ˜¯å€¼ã€‚
  % å½¢å¦‚ï¼š
  % { {label_1} {value_1}, {label_2} {value 2} }
  % é¦–å…ˆè½¬æ¢æˆ seq ç±»å‹ã€‚
  \seq_set_from_clist:NN \l__bithesis_input_seq #1
  \seq_map_inline:Nn \l__bithesis_input_seq {
    % ç„¶åå¯¹äºæ¯ä¸€å¯¹ label å’Œ valueï¼Œé¦–å…ˆæŸ¥æ‰¾
    % value ä¸­æ˜¯å¦å«æœ‰ \\ å­—ç¬¦ï¼Œå¦‚æœæœ‰ï¼Œåˆ™å°†å…¶åˆ†å‰²æˆå¤šä¸ª
    % label - value å¯¹ã€‚
    % æ¯”å¦‚ {label_1} {value \\ 1} ä¼šè¢«è½¬æ¢æˆ
    % { {label_1} {value}, {} {1} }
    \__bithesis_parse_entry:nn ##1
    % ç„¶åå°†è¿™äº› label - value å¯¹æ·»åŠ åˆ° \l__bithesis_right_seq
    % æˆ–è€… \l__bithesis_left_sql ä¸­ã€‚
    % left å°±æ˜¯ labelï¼Œright å°±æ˜¯ valueã€‚
    \seq_concat:NNN \l__bithesis_right_seq \l__bithesis_right_seq \l__bithesis_tmp_right_seq
    \seq_concat:NNN \l__bithesis_left_seq \l__bithesis_left_seq \l__bithesis_tmp_left_seq
  }

  % å¦‚æœç”¨æˆ·é€‰æ‹©è‡ªåŠ¨è®¡ç®—æœ€å¤§å®½åº¦ï¼Œåˆ™è®¡ç®—æœ€å¤§å®½åº¦ã€‚
  \bool_if:NT \l__bithesis_cover_auto_width_bool {
    \__bithesis_get_max_text_width:NN \l__bithesis_cover_label_max_width_dim \l__bithesis_left_seq
    \__bithesis_get_max_text_width:NN \l__bithesis_cover_value_max_width_dim \l__bithesis_right_seq
    % åœ¨ value ä¸¤è¾¹åŠ ä¸Šç©ºç™½ï¼Œé¿å…æ–‡æœ¬å¤ªé è¾¹ã€‚
    \dim_add:Nn \l__bithesis_cover_value_max_width_dim { \l__bithesis_cover_auto_width_padding_dim * 2 }
  }
  \dim_compare:nNnT { \linewidth } < { \__bithesis_cover_entry_rendered_width: } {
    \msg_warning:nn {bithesis} {render-cover-entry/overfull-hbox}
  }

  % æœ€åï¼Œæ ¹æ®å®½åº¦æ¸²æŸ“ label å’Œ value å¯¹ã€‚
  \group_begin:
    \bool_until_do:nn { \seq_if_empty_p:N \l__bithesis_left_seq }
      {
        \seq_pop_left:NN \l__bithesis_left_seq \l__bithesis_tmpa_tl
        \seq_pop_left:NN \l__bithesis_right_seq \l__bithesis_tmpb_tl
        \__bithesis_render_cover_entry:nn {\l__bithesis_tmpa_tl} {\l__bithesis_tmpb_tl}
      }
  \group_end:
}
\cs_new:Npn \__bithesis_make_graduate_cover: {
  \cleardoublepage
  \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
    \currentpdfbookmark{å°é¢}{pre-frontmatter:cover}
  }
  \begin{titlepage}
    {
      \heiti\zihao{5}
      \tl_if_blank:VTF \l__bithesis_value_classified_level_tl {} {
        \flushright
        \c__bithesis_label_classified_level_tlï¼š~
        \l__bithesis_value_classified_level_tl \par
      }
    }
    \centering
    \vspace*{90mm}
    {\heiti\zihao{-2} \l__bithesis_value_title_tl \par}
    \vskip 50mm
    {
      % æ¸²æŸ“ä¿¡æ¯ã€‚
      \clist_set:Nn \l__bithesis_input_clist {
        {å§“åï¼š} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_author_tl {3}},
        {å­¦å·ï¼š} {\__bithesis_secret_info:N \l__bithesis_value_student_id_tl},
        {å­¦é™¢ï¼š} {\l__bithesis_value_school_tl},
      }
      \linespread{2.0}\selectfont
      \dim_set:Nn \l__bithesis_cover_auto_width_padding_dim {2em}
      % é»‘ä½“ å°ä¸‰
      \heiti \zihao{-3} \__bithesis_render_cover_entry:N \l__bithesis_input_clist
    }
    \vskip 10mm
    % é»‘ä½“ å°ä¸‰
    {\heiti \zihao{-3} \l__bithesis_cover_date_tl}
  \end{titlepage}
}
\msg_new:nnn { bithesis } { paper-back/missing-degree-type-icon-file }
  {
    Failed~to~find~the~file~for~degree~type~in~the~paper~back:~#1.\\
    Please~download~from~https://github.com/BITNP/BIThesis/blob/main/templates/graduate-thesis/ #1.\\
    \__bithesis_warning_footer:n { paper-back/missing-degree-type-icon-file }
  }
\cs_new:Npn \__bithesis_make_paper_back: {
  \cleardoublepage
  \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
    \currentpdfbookmark{ä¹¦è„Š}{pre-frontmatter:paperback}
  }
  \begin{titlepage}
    \centering
    % å®ç°ç«–æ’â€”â€”å°†æ°´å¹³å®½åº¦è®¾å¾—å¾ˆçª„ï¼Œè®©æ–‡å­—è‡ªåŠ¨æ¢è¡Œï¼Œå¹¶æ”¹å°è¡Œè·
    \linespread{1.1}\selectfont
    \begin{minipage}[c][19.7cm]{2em}
      \centering
      {
        \tl_new:N \l__bithesis_icon_path_tl
        \tl_set:Nx \l__bithesis_icon_path_tl { misc/icon_ \l__bithesis_value_degree_type_tl .jpg }
        \file_if_exist:nTF {\l__bithesis_icon_path_tl} {
          \includegraphics[width=1.5em]{\l__bithesis_icon_path_tl}
        } {
          \msg_warning:nnV {bithesis} {paper-back/missing-degree-type-icon-file} \l__bithesis_icon_path_tl
        }
      }
      \vspace{1em plus 1fill}
      \par
      {
        \heiti\zihao{3}
        \tl_if_blank:VTF \l__bithesis_value_vertical_title_tl
          {\l__bithesis_value_title_tl}{\l__bithesis_value_vertical_title_tl}
      }
      \par
      \vspace{1em plus 1fill}
      {\heiti\zihao{3}\__bithesis_secret_info:nn{\l__bithesis_value_author_tl}{\g__bithesis_const_substitute_symbol_tl\quad\g__bithesis_const_substitute_symbol_tl\quad\g__bithesis_const_substitute_symbol_tl}}
      \par
      \vspace{1em plus 1fill}
      {\heiti\zihao{3}\c__bithesis_label_university_tl}
    \end{minipage}
  \end{titlepage}
}
\cs_new:Npn \__bithesis_make_chinese_title_page: {
  \cleardoublepage
  \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
    \currentpdfbookmark{ä¸­æ–‡é¢˜åé¡µ}{pre-frontmatter:titlepage-zh}
  }
  \begin{titlepage}
      \begin{minipage}[t]{0.48\textwidth}
        % å¯†çº§ã€åˆ†ç±»å·
        {\heiti \zihao{5} \noindent \c__bithesis_label_classification_tl}
        \l__bithesis_value_classification_tl\\
        {\heiti \zihao{5} \c__bithesis_label_udc_tl}  \l__bithesis_value_udc_tl
      \end{minipage}

      \hfill

      % ä»¥ä¸‹å†…å®¹æ˜¯ã€Œå­¦ç”Ÿç±»å‹ã€çš„å†…å®¹ï¼Œ
      % åœ¨æ²¡æœ‰å‹¾é€‰çš„æ—¶å€™éšè—ã€‚
      \bool_if:nT {\l__bithesis_cover_show_special_type_box_bool || \l__bithesis_value_international_student_ugp_bool || \l__bithesis_value_cross_research_bool || \l__bithesis_value_engineering_special_plan_bool} {
        \begin{minipage}[t]{0.48\textwidth}
          \vspace{-12pt}
          \begin{flushright}
          \setlength\fboxrule{1pt}\setlength\fboxsep{3mm}
          \fbox{
            \noindent\begin{minipage}{0.48\linewidth}
              \heiti \zihao{-4}
              \scalebox{1.1}\BigStar{}\hspace{4pt} \c__bithesis_label_special_type_tl\\

              {
                \zihao{4}
                \bool_if:NTF \l__bithesis_value_engineering_special_plan_bool {\__bithesis_boxcheck:} {\__bithesis_boxempty:}
              }
              \hspace{1pt}\c__bithesis_label_engineering_special_plan_tl\\

              {
                \zihao{4}
                \bool_if:NTF \l__bithesis_value_cross_research_bool {\__bithesis_boxcheck:} {\__bithesis_boxempty:}
              }
              \hspace{1pt}\c__bithesis_label_cross_research_tl\\

              {
                \zihao{4}
                \bool_if:NTF \l__bithesis_value_international_student_ugp_bool {\__bithesis_boxcheck:} {\__bithesis_boxempty:}
              }
              \hspace{1pt}\c__bithesis_label_international_student_ugp_tl
            \end{minipage}
          }
          \end{flushright}
        \end{minipage}
        % ä¿è¯ä¸‹é¢çš„å†…å®¹ç©ºé—´ä¸ä¼šå—åˆ°æŒ¤å ã€‚
        \vspace{-35pt}
      }

     \begin{center}

      \vskip \stretch{1}

      {\heiti\zihao{-2} \l__bithesis_value_title_tl \par}

      \vskip \stretch{1}

      \def\tabcolsep{1pt}
      \def\arraystretch{1.5}

      {
        \renewcommand{\baselinestretch}{2}

        \tl_if_empty:NT \l__bithesis_cover_delimiter_tl {
          \tl_set:Nn \l__bithesis_cover_delimiter_tl {\qquad}
        }
        \dim_set:Nn \l__bithesis_cover_underline_offset_dim {-5pt}

        % å¦‚æœä¸æ˜¯è‡ªåŠ¨è®¡ç®—å®½åº¦ï¼Œä¸”ç”¨æˆ·æ²¡æœ‰è‡ªå®šä¹‰å®½åº¦ï¼Œ
        % åˆ™å°è¯•æä¾›ä¸€ä¸ªé»˜è®¤å®½åº¦ã€‚
        \bool_if:NF \l__bithesis_cover_auto_width_bool {
          \dim_compare:nNnT {\l__bithesis_cover_label_max_width_dim} = {0pt} {
            \dim_set:Nn \l__bithesis_cover_label_max_width_dim {45mm}
          }
          \dim_compare:nNnT {\l__bithesis_cover_value_max_width_dim} = {0pt} {
            \dim_set:Nn \l__bithesis_cover_value_max_width_dim {60mm}
          }
        }

        % æ¸²æŸ“ä¿¡æ¯ã€‚
        % æ­¤å¤„å¿…é¡»é™åˆ¶ç›²å®¡æ¨¡å¼æ›¿æ¢ç¬¦å·æ•°é‡ï¼Œä¸ç„¶ä¼šæ³„éœ²ä¿¡æ¯ï¼Œè¿˜å¯èƒ½å¯¼è‡´è¡Œæº¢å‡º
        \clist_set:Nn \l__bithesis_input_clist {
            {\c__bithesis_graduate_label_author_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_author_tl {3}},
            {\c__bithesis_graduate_label_school_tl} {\l__bithesis_value_school_tl},
            {\c__bithesis_graduate_label_supervisor_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_supervisor_tl {5}},
            {\c__bithesis_graduate_label_industrial_mentor_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_industrial_mentor_tl {5}},
            {\c__bithesis_graduate_label_chairman_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_chairman_tl {5}},
            {\g__bithesis_const_info_degree_tl} {\l__bithesis_value_degree_tl},
            {\g__bithesis_const_info_major_tl} {\l__bithesis_value_major_tl},
            {\c__bithesis_graduate_label_institute_tl} {\l__bithesis_value_institute_tl},
            {\c__bithesis_graduate_label_defense_date_tl} {\l__bithesis_value_defense_date_tl},
         }

        \heiti\zihao{-3}
        \__bithesis_render_cover_entry:N \l__bithesis_input_clist
      }
    \end{center}
    \vskip \stretch{0.5}
  \end{titlepage}
}
\cs_new:Npn \__bithesis_make_english_title_page: {
  \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
    \currentpdfbookmark{è‹±æ–‡é¢˜åé¡µ}{pre-frontmatter:titlepage-en}
  }
  \begin{titlepage}
    \begin{center}

    \vspace*{10em}

    {
      \zihao{-2}
      \textbf{\l__bithesis_value_title_en_tl}
      \par
    }

    \vskip \stretch{1}

    {
      \tl_if_empty:NT \l__bithesis_cover_delimiter_tl {
        \tl_set:Nn \l__bithesis_cover_delimiter_tl {:~}
      }

      \tl_set:Nn \l__bithesis_cover_label_align_tl {l}
      \dim_set:Nn \l__bithesis_cover_underline_offset_dim {-5pt}

      % å¦‚æœä¸æ˜¯è‡ªåŠ¨è®¡ç®—å®½åº¦ï¼Œä¸”ç”¨æˆ·æ²¡æœ‰è‡ªå®šä¹‰å®½åº¦ï¼Œ
      % åˆ™å°è¯•æä¾›ä¸€ä¸ªé»˜è®¤å®½åº¦ã€‚
      \bool_if:NF \l__bithesis_cover_auto_width_bool {
        \dim_compare:nNnT {\l__bithesis_cover_label_max_width_dim} = {0pt} {
          \dim_set:Nn \l__bithesis_cover_label_max_width_dim {55mm}
        }
        \dim_compare:nNnT {\l__bithesis_cover_value_max_width_dim} = {0pt} {
          \dim_set:Nn \l__bithesis_cover_value_max_width_dim {85mm}
        }
      }

      % æ¸²æŸ“ä¿¡æ¯ã€‚
      % æ­¤å¤„å¿…é¡»é™åˆ¶ç›²å®¡æ¨¡å¼æ›¿æ¢ç¬¦å·æ•°é‡ï¼Œä¸ç„¶ä¼šæ³„éœ²ä¿¡æ¯ï¼Œè¿˜å¯èƒ½å¯¼è‡´è¡Œæº¢å‡º
      \clist_set:Nn \l__bithesis_input_clist {
          {\c__bithesis_graduate_label_author_en_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_author_en_tl {9}},
          {\c__bithesis_graduate_label_school_en_tl} {\l__bithesis_value_school_en_tl},
          {\c__bithesis_graduate_label_supervisor_en_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_supervisor_en_tl {12}},
          {\c__bithesis_graduate_label_industrial_mentor_en_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_industrial_mentor_en_tl {12}},
          {\c__bithesis_graduate_label_chairman_en_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_chairman_en_tl {12}},
          {\c__bithesis_graduate_label_degree_en_tl} {\l__bithesis_value_degree_en_tl},
          {\c__bithesis_graduate_label_major_en_tl} {\l__bithesis_value_major_en_tl},
          {\c__bithesis_graduate_label_institute_en_tl} {\l__bithesis_value_institute_en_tl},
          {\c__bithesis_graduate_label_defense_date_en_tl} {\l__bithesis_value_defense_date_en_tl},
       }

      \zihao{-3}
      \__bithesis_render_cover_entry:N \l__bithesis_input_clist
    }

    \end{center}

    \vskip \stretch{0.5}
  \end{titlepage}
}
\newcommand{\circled}[2][]{\tikz[baseline=(char.base)]
  {\node[shape = circle, draw, inner~sep = 1pt]
  (char) {\phantom{\ifblank{#1}{#2}{#1}}};
  \node at (char.center) {\makebox[0pt][c]{#2}};}}
\robustify{\circled}
\cs_new:Npn \__bithesis_graduate_originality:
  {
    % å–æ¶ˆé¡µçœ‰é¡µè„šã€‚
    \ctexset {
      chapter / pagestyle = plain,
    }

    \begin{titlepage}
      % ä¸è®¡ç®—é¡µç ã€‚
      \pagenumbering{gobble}

      % åŸåˆ›æ€§å£°æ˜éƒ¨åˆ†
      \begin{center}
        \__bithesis_same_page:
        \ctexset{
          chapter = {
            titleformat = {\heiti\zihao{-2}},
            afterskip = 30pt,
          }
        }
        \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
          \currentpdfbookmark{\c__bithesis_graduate_label_originality_tl}{pre-frontmatter:originality}
        }
        \chapter*{
          \c__bithesis_graduate_label_originality_tl
        }
      \end{center}

      % æœ¬éƒ¨åˆ†å­—å·ä¸ºä¸‰å·ï¼Œä¸” Word è¡Œè·ä¸º 28 ptï¼ˆâ‰ˆ 1.46 Ã— 1.2 åŸºç¡€è¡Œè· Ã— 16 pt ä¸‰å·å­—ï¼‰ã€‚
      \zihao{3}
      \linespread{1.46}\selectfont

      \qquad\c__bithesis_graduate_label_originality_clause_tl
      \vspace{3\baselineskip}

      \begin{flushright}
        \c__bithesis_graduate_label_originality_author_signature_tl\par
      \end{flushright}

      \cleardoublepage

      % ä½¿ç”¨æˆæƒå£°æ˜éƒ¨åˆ†ã€‚
      \begin{center}
        \__bithesis_same_page:
        \ctexset{
          chapter = {
            titleformat = {\heiti\zihao{-2}},
            afterskip = 30pt,
          }
        }
        \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
          \currentpdfbookmark{\c__bithesis_graduate_label_authorization_tl}{pre-frontmatter:originality-authorization}
        }
        \chapter*{
          \c__bithesis_graduate_label_authorization_tl
        }
      \end{center}

      \qquad\c__bithesis_graduate_label_authorization_clause_tl

      \vspace{3\baselineskip}

      \begin{flushright}
        \begin{spacing}{1.65}
          \zihao{3}
          % \hspace{5mm}\raisebox{-2ex}{\includegraphics[width=30mm]{example-image}}\hspace{5mm}
          \c__bithesis_graduate_label_originality_author_signature_tl\par
          \vspace{1\baselineskip}
          \c__bithesis_graduate_label_originality_supervisor_signature_tl\par
        \end{spacing}
      \end{flushright}
    \end{titlepage}
    \cleardoublepage
  }
\DeclareDocumentCommand \BITSetup { m }
  {
    \keys_set:nn { bithesis } { #1 }
    \__bithesis_resolve_auto_values:
  }
\DeclareDocumentCommand \BigStar { }
  { \ding{72} }
  \NewDocumentEnvironment {blindPeerReview} {O{\c_true_bool} +b}
  {
    \bool_if:nTF {\g__bithesis_blind_mode_bool && #1} {} {
      #2
    }
  } {}
\RenewDocumentCommand \cleardoublepage { }
  {
    \clearpage
    \bool_if:NT \g__bithesis_twoside_bool
      {
        \int_if_odd:nF {\c@page}
          { \hbox:n { } \thispagestyle { empty } \newpage }
      }
  }
\DeclareDocumentCommand \SecretInfo { m o }
  {
    \IfValueTF {#2} {
      \__bithesis_secret_info:nn {#1} {#2}
    } {
      \__bithesis_secret_info:n {#1}
    }
  }
\DeclareDocumentCommand \MakeCover { O{} }
  {
    \begin{blindPeerReview}[\l__bithesis_cover_hide_cover_in_peer_review_bool]
    \group_begin:

    % è§£æä¼ å…¥å‚æ•°
    \keys_set:nn { bithesis-internal / pre-frontmatter } { bookmarked = true }
    \keys_set:nn { bithesis-internal / pre-frontmatter } { #1 }

    % å°é¢ä½¿ç”¨çš„ thesis-type å¯èƒ½ä¸æ•´ä½“ä¸åŒã€‚
    \int_new:N \l__bithesis_thesis_type_int
    \bool_if:NTF \l__bithesis_cover_prefer_zh_bool {
      \int_set:Nn \l__bithesis_thesis_type_int {1}
    } {
      \int_set:Nn \l__bithesis_thesis_type_int {\g__bithesis_thesis_type_int}
    }

    \int_case:nn {\l__bithesis_thesis_type_int}
    {
      {1}
      {
        \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
          \currentpdfbookmark{å°é¢}{pre-frontmatter:cover}
        }
        \begin{titlepage}
          \vspace*{16mm}

          \centering

          \tl_if_blank:VTF \l_bit_coverheaderimage_tl {} {
            \includegraphics[width=9.87cm]{\l_bit_coverheaderimage_tl}\\
          }

          \vspace*{-3mm}

          \zihao{-0}\textbf{\ziju{0.12}\songti{\l__bithesis_style_headline_tl}}\par

          \vspace{0.5em plus 1fill}

          \group_begin:
          % ä¸­æ–‡æ ‡é¢˜
          \tl_set:Nn \l_tmpa_tl {
            \linespread{1.46}\selectfont
            \zihao{2}\textbf{\__bithesis_xihei:n \l__bithesis_value_title_tl}\par
          }
          % è‹±æ–‡æ ‡é¢˜
          \tl_set:Nn \l_tmpb_tl {
            \linespread{1.65}\selectfont
            \zihao{3}\textbf{\l__bithesis_value_title_en_tl}\par
          }

          \bool_if:NTF \l__bithesis_cover_reverse_titles_bool {
            \l_tmpb_tl \vspace{3mm} \l_tmpa_tl
          } {
            \l_tmpa_tl \vspace{3mm} \l_tmpb_tl
          }
          \group_end:

          \vspace{0em plus 1fill}

          \begin{spacing}{1.8}
            \begin{center}
            \tl_if_empty:NT \l__bithesis_cover_delimiter_tl {
              \tl_set:Nn \l__bithesis_cover_delimiter_tl {ï¼š}
            }
            % if not auto width, try override width
            \bool_if:NF \l__bithesis_cover_auto_width_bool {
              \dim_compare:nNnT {\l__bithesis_cover_label_max_width_dim} = {0pt} {
                \dim_set:Nn \l__bithesis_cover_label_max_width_dim {35mm}
              }
              \dim_compare:nNnT {\l__bithesis_cover_value_max_width_dim} = {0pt} {
                \dim_set:Nn \l__bithesis_cover_value_max_width_dim {78mm}
              }
            }

            % æ­¤å¤„å¿…é¡»é™åˆ¶ç›²å®¡æ¨¡å¼æ›¿æ¢ç¬¦å·æ•°é‡ï¼Œä¸ç„¶ä¼šæ³„éœ²ä¿¡æ¯ï¼Œè¿˜å¯èƒ½å¯¼è‡´è¡Œæº¢å‡º
            \clist_set:Nn \l__bithesis_input_clist {
              {\c__bithesis_label_semester_tl} {\l__bithesis_value_semester_tl},
              {\c__bithesis_label_school_tl} {\l__bithesis_value_school_tl},
              {\g__bithesis_const_info_major_tl} {\l__bithesis_value_major_tl},
              {\c__bithesis_label_class_tl} {\__bithesis_secret_info:N \l__bithesis_value_class_tl},
              {\c__bithesis_label_author_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_author_tl {3}},
              {\c__bithesis_label_student_id_tl} {\__bithesis_secret_info:N \l__bithesis_value_student_id_tl},
              {\c__bithesis_label_course_tl} {\l__bithesis_value_course_tl},
              {\c__bithesis_label_supervisor_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_supervisor_tl {5}},
              {\c__bithesis_label_co_supervisor_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_external_supervisor_tl {5}},
              {\c__bithesis_label_teacher_tl} {\l__bithesis_value_teacher_tl},
            }

            \zihao{3}

            \__bithesis_render_cover_entry:N \l__bithesis_input_clist

            \end{center}
          \end{spacing}

          \vspace*{1.5em plus 1.5fill}
          \centering
          \zihao{3}\ziju{0.5}\songti{
            \tl_if_empty:NTF \l__bithesis_cover_date_tl {
              % è‹±æ–‡æ¨¡æ¿ä¸­ ctex ä¸ä¼šé¢„è®¾æ—¥æœŸæ ¼å¼ï¼Œä½†ä»è¦ä¿è¯ä¸­æ–‡å°é¢çš„æ—¥æœŸæŒ‰ä¸­æ–‡ä¹ æƒ¯
              \ctexset{today=small}
              \today
            } {
              \l__bithesis_cover_date_tl
            }
          }
        \end{titlepage}
      }
      {2}
      {
        \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
          \currentpdfbookmark{å°é¢}{pre-frontmatter:cover}
        }
        \begin{titlepage}
          \centering

          \tl_if_blank:VTF \l_bit_coverheaderimage_tl {} {
            \includegraphics[width=6.87cm]{\l_bit_coverheaderimage_tl}\\
          }

          \vspace{1.2mm}

          \zihao{2}\textbf{\songti{\l__bithesis_style_headline_tl}}

          % å¤–æ–‡ç¿»è¯‘å°é¢æœ‰ä¸¤ç»„ä¸­è‹±æ–‡æ ‡é¢˜ï¼Œè¡Œæ•°å˜åŒ–èŒƒå›´å¤§ï¼Œå› æ­¤é‡‡ç”¨ fill æ¯”ä¾‹å¸ƒå±€
          \vspace{\stretch{1}}

          {

          \begin{spacing}{1.8}

            \tl_set:Nn \l__bithesis_cover_delimiter_tl {\textbf{ï¼š}}
            \bool_set_false:N \l__bithesis_cover_auto_width_bool
            \dim_set:Nn \l__bithesis_cover_label_max_width_dim {35mm}
            \dim_set:Nn \l__bithesis_cover_value_max_width_dim {115mm}

            \clist_set:Nn \l__bithesis_input_clist {
              {\songti\zihao{4}\textbf{å¤–æ–‡åŸæ–‡é¢˜ç›®}} {\l__bithesis_value_trans_origin_title_tl},
              {\songti\zihao{4}\textbf{ä¸­æ–‡ç¿»è¯‘é¢˜ç›®}} {\l__bithesis_value_trans_title_tl},
            }

            \zihao{-3}
            \centering

            \__bithesis_render_cover_entry:N \l__bithesis_input_clist

          \end{spacing}

          }

          \vspace{\stretch{1}}

          \zihao{2}\textbf{\__bithesis_xihei:n \l__bithesis_value_title_tl}\par

          \vspace{3mm}

          \begin{spacing}{1.2}
            \zihao{3}\selectfont{\textbf{\l__bithesis_value_title_en_tl}}\par
          \end{spacing}

          \vspace{\stretch{0.67}}

          \begin{spacing}{1.8}
            \tl_if_empty:NT \l__bithesis_cover_delimiter_tl {
              \tl_set:Nn \l__bithesis_cover_delimiter_tl {ï¼š}
            }

            % å¦‚æœä¸æ˜¯è‡ªåŠ¨è®¡ç®—å®½åº¦ï¼Œä¸”ç”¨æˆ·æ²¡æœ‰è‡ªå®šä¹‰å®½åº¦ï¼Œ
            % åˆ™å°è¯•æä¾›ä¸€ä¸ªé»˜è®¤å®½åº¦ã€‚
            \bool_if:NF \l__bithesis_cover_auto_width_bool {
              \dim_compare:nNnT {\l__bithesis_cover_label_max_width_dim} = {0pt} {
                \dim_set:Nn \l__bithesis_cover_label_max_width_dim {35mm}
              }
              \dim_compare:nNnT {\l__bithesis_cover_value_max_width_dim} = {0pt} {
                \dim_set:Nn \l__bithesis_cover_value_max_width_dim {78mm}
              }
            }

            \zihao{3}

            % æ¸²æŸ“ä¿¡æ¯ã€‚
            % æ­¤å¤„å¿…é¡»é™åˆ¶ç›²å®¡æ¨¡å¼æ›¿æ¢ç¬¦å·æ•°é‡ï¼Œä¸ç„¶ä¼šæ³„éœ²ä¿¡æ¯ï¼Œè¿˜å¯èƒ½å¯¼è‡´è¡Œæº¢å‡º
            \clist_set:Nn \l__bithesis_input_clist {
              {\c__bithesis_label_school_tl} {\l__bithesis_value_school_tl},
              {\c__bithesis_label_major_tl} {\l__bithesis_value_major_tl},
              {\c__bithesis_label_class_tl} {\__bithesis_secret_info:N \l__bithesis_value_class_tl},
              {\c__bithesis_label_author_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_author_tl {3}},
              {\c__bithesis_label_student_id_tl} {\__bithesis_secret_info:N \l__bithesis_value_student_id_tl},
              {\c__bithesis_label_supervisor_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_supervisor_tl {5}},
              {\c__bithesis_label_co_supervisor_tl} {\__bithesis_secret_info_fixed:Nn \l__bithesis_value_external_supervisor_tl {5}},
            }

            \__bithesis_render_cover_entry:N \l__bithesis_input_clist

          \end{spacing}

          \vspace{\stretch{0.67}}
        \end{titlepage}
      }
      {3} {
        \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
          \currentpdfbookmark{Cover}{pre-frontmatter:cover}
        }
        \begin{titlepage}
          \vspace*{16mm minus 16mm}

          \centering

          \tl_if_blank:VTF \l_bit_coverheaderimage_tl {} {
            \includegraphics[width=9.87cm]{\l_bit_coverheaderimage_tl}\\
          }

          \vspace*{-3mm}

          \zihao{1}\textbf{\ziju{0.12}\l__bithesis_style_headline_tl}\par

          \vspace{0.5em plus 1fill}

          \bool_if:NT \l__bithesis_cover_add_titlezh_bool {
            \zihao{2}\textbf{\__bithesis_xihei:n \l__bithesis_value_title_tl}\par
            \vspace{0.5em plus 0.5fill minus 0.5em}
          }

          \zihao{2}\textbf{\__bithesis_xihei:n \l__bithesis_value_title_en_tl}\par

          \vspace{0.5em plus 1fill}

          \begin{spacing}{1.8}
            \begin{center}
            \tl_if_empty:NT \l__bithesis_cover_delimiter_tl {
              \tl_set:Nn \l__bithesis_cover_delimiter_tl {:}
            }

            % if not auto width, try override width
            \bool_if:NF \l__bithesis_cover_auto_width_bool {
              \dim_compare:nNnT {\l__bithesis_cover_label_max_width_dim} = {0pt} {
                \dim_set:Nn \l__bithesis_cover_label_max_width_dim {20mm}
              }
              \dim_compare:nNnT {\l__bithesis_cover_value_max_width_dim} = {0pt} {
                \dim_set:Nn \l__bithesis_cover_value_max_width_dim {105mm}
              }
            }

            \zihao{4}

            \clist_set:Nn \l__bithesis_input_clist {
              {\c__bithesis_label_school_en_tl} {\l__bithesis_value_school_tl},
              {\g__bithesis_const_info_major_tl} {\l__bithesis_value_major_tl},
              {\c__bithesis_label_author_en_tl} {\l__bithesis_value_author_tl},
              {\c__bithesis_label_student_id_en_tl} {\l__bithesis_value_student_id_tl},
              {\c__bithesis_label_supervisor_en_tl} {\l__bithesis_value_supervisor_tl},
              {\c__bithesis_label_co_supervisor_en_tl} {\l__bithesis_value_external_supervisor_tl},
            }

            \__bithesis_render_cover_entry:N \l__bithesis_input_clist

            \end{center}
          \end{spacing}

          \vspace*{1.5em plus 1.5fill}
          \centering
          \zihao{3}\ziju{0.5}\songti{
            \tl_if_empty:NTF \l__bithesis_cover_date_tl {
              \today
            } {
              \l__bithesis_cover_date_tl
            }
          }
        \end{titlepage}
      }
      {4} {
        \__bithesis_make_graduate_cover:
      }
      {5} {
        \__bithesis_make_graduate_cover:
      }
    }
    \group_end:
    \end{blindPeerReview}
  }
\NewDocumentCommand \MakeOriginality { O{} }
  {
    \group_begin:
    % è§£æä¼ å…¥å‚æ•°
    \keys_set:nn { bithesis-internal / pre-frontmatter } { bookmarked = true }
    \keys_set:nn { bithesis-internal / pre-frontmatter } { #1 }

    \begin{blindPeerReview}[\l__bithesis_cover_hide_cover_in_peer_review_bool]
      \int_case:nn {\g__bithesis_thesis_type_int}
      {
        {1}
        {
          \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
            \currentpdfbookmark{å£°æ˜}{pre-frontmatter:originality}
          }
          \pagestyle{BIThesis}
          \pagenumbering{gobble}

          % åŸåˆ›æ€§å£°æ˜éƒ¨åˆ†
          \begin{center}
            \vspace*{-2bp}
            \__bithesis_same_page:
            \chapter*{\heiti\zihao{2}\c__bithesis_bachelor_label_originality_tl}
          \end{center}~\par

          % æœ¬éƒ¨åˆ†å­—å·ä¸ºå°ä¸‰ã€‚
          \zihao{-3}
          \c__bithesis_bachelor_label_originality_clause_tl

          \vspace{17mm}

          \begin{flushright}
            \c__bithesis_bachelor_label_originality_author_signature_tl\par
          \end{flushright}

          \vspace{16mm}

          % ä½¿ç”¨æˆæƒå£°æ˜éƒ¨åˆ†
          \begin{center}
            \__bithesis_same_page:
            \chapter*{
              \heiti\zihao{2}
              \c__bithesis_bachelor_label_authorization_tl
            }
          \end{center}~\par

          \c__bithesis_bachelor_label_authorization_clause_tl

          \vspace*{3mm}

          \begin{flushright}
            \begin{spacing}{1.65}
              \zihao{-3}
              % \hspace{5mm}\raisebox{-2ex}{\includegraphics[width=30mm]{example-image}}\hspace{5mm}
              \c__bithesis_bachelor_label_originality_author_signature_tl\par
              \c__bithesis_bachelor_label_originality_supervisor_signature_tl\par
            \end{spacing}
          \end{flushright}

          \newpage
        }
        {3} {
          \bool_if:NT \l__bithesis_internal__pre_frontmatter__bookmarked_bool {
            \currentpdfbookmark{Statements}{pre-frontmatter:originality}
          }
          \pagestyle{BIThesis}
          \pagenumbering{gobble}

          % åŸåˆ›æ€§å£°æ˜éƒ¨åˆ†
          \begin{center}
            \vspace*{-2bp}
            \__bithesis_same_page:
            \chapter*{
              \heiti\zihao{-2}
              \c__bithesis_bachelor_english_label_originality_tl
            }
          \end{center}~\par

          % æœ¬éƒ¨åˆ†å­—å·ä¸ºå°å››
          \zihao{-4}
          \c__bithesis_bachelor_english_label_originality_clause_tl

          \bigbreak

          Student~(Signature):~\dunderline[-1pt]{1pt}{\makebox[18mm]{}}~Date:\par

          \vspace{\stretch{1}}

          % ä½¿ç”¨æˆæƒå£°æ˜éƒ¨åˆ†
          \begin{center}
            \__bithesis_same_page:
            \chapter*{
              \heiti\zihao{-2}
              \c__bithesis_bachelor_english_label_authorization_tl
            }
          \end{center}~\par

          \c__bithesis_bachelor_english_label_authorization_clause_tl

          \bigbreak
          Student~(Signature):~
            \dunderline[-1pt]{1pt}{\makebox[18mm + 16bp]{}}~
            \hspace{2mm}Date:\par
          Supervisor~(Signature):~
            \dunderline[-1pt]{1pt}{\makebox[18mm]{}}~
            \hspace{2mm}Date:\par
        }
        {4} {\__bithesis_graduate_originality:}
        {5} {\__bithesis_graduate_originality:}
      }
    % å•ç‹¬æˆé¡µ
    % æœ¬ç§‘æ•™åŠ¡éƒ¨å£°æ˜å•é¢ã€åŒé¢æ‰“å°å‡å¯ï¼›è€Œç¡•åšè™½è¦æ±‚æ­¤å¤„å•é¢æ‰“å°ï¼Œä½†å·²ç”± graduate_originality å®ç°ã€‚å› æ­¤ï¼Œä¸¤ç§æƒ…å†µä¸‹è¿™é‡Œéƒ½ä¸å¿… cleardoublepageã€‚
    \clearpage
    \end{blindPeerReview}
    \group_end:
  }
\NewDocumentCommand \MakePaperBack { O{} }
  {
    % ä¸Šä¸‹å„ç•™å‡ºè§„å®šçš„è¾¹è·ï¼Œåˆ°ä¸‹ä¸€é¡µå†æ¢å¤ã€‚
    % è‹¥æ ‡é¢˜è¶…é•¿ï¼Œè‡ªç„¶ä¼šå‘ä¸Šä¸‹æº¢å‡ºã€‚
    %
    % å¿…é¡»åœ¨é¡¶å±‚æ“ä½œï¼Œä¸ç„¶å½±å“ä¸ç¡®å®šã€‚
    % https://tex.stackexchange.com/q/718581
    %
    % å•çº¯`\newgeometry`å†`\restoregeometry`ç›¸å½“äºä»…ä»…`\clearpage`ï¼Œä¹Ÿæ— é—®é¢˜ã€‚
    \newgeometry{
      vmargin = 5cm,
    }
    \begin{blindPeerReview}[\l__bithesis_cover_hide_cover_in_peer_review_bool]
      \group_begin:
      % è§£æä¼ å…¥å‚æ•°
      \keys_set:nn { bithesis-internal / pre-frontmatter } { bookmarked = true }
      \keys_set:nn { bithesis-internal / pre-frontmatter } { #1 }

      \__bithesis_make_paper_back:

      \group_end:
    \end{blindPeerReview}
    \restoregeometry
  }
\NewDocumentCommand \MakeTitle { O{} }
  {
    \begin{blindPeerReview}[\l__bithesis_cover_hide_cover_in_peer_review_bool]
      \group_begin:
      % è§£æä¼ å…¥å‚æ•°
      \keys_set:nn { bithesis-internal / pre-frontmatter } { bookmarked = true }
      \keys_set:nn { bithesis-internal / pre-frontmatter } { #1 }

      \__bithesis_make_chinese_title_page:
      \__bithesis_make_english_title_page:

      \group_end:
    \end{blindPeerReview}
  }
\DeclareDocumentCommand \MakeTOC {}
  {
    {
      \__bithesis_if_graduate:TF {
        \renewcommand{\baselinestretch}{1.56}
      } {
        \renewcommand{\baselinestretch}{1.35}
      }

      % è‡ªå®šä¹‰ç›®å½•æ ·å¼
      \cs_set:Npn \contentsname {
        \fontsize{16pt}{\baselineskip}
        { \__bithesis_unnumchapter_style: \__bithesis_title_font: \l__bithesis_toc_title_tl }
        \vspace{-8pt}
      }

      \bool_if:NTF \l__bithesis_add_toc_to_toc_bool {
        % æ·»åŠ ã€Œç›®å½•ã€æœ¬èº«åˆ°ç›®å½•ä¸­ï¼ŒåŒæ—¶è‡ªåŠ¨æ·»åŠ ä¹¦ç­¾
        % æ­¤å¤„å¿…é¡»æœ‰`\phantomsection`ï¼Œä¸ç„¶ hyperref ä¼šæŠŠé“¾æ¥æŒ‡å‘ä¹‹å‰æ‘˜è¦çš„æ ‡é¢˜ã€‚
        \phantomsection
        \addcontentsline{toc}{chapter}{\c__bithesis_label_toc_en_tl}
      } {
        % æ‰‹åŠ¨æ·»åŠ ç›®å½•ä¹¦ç­¾
        \currentpdfbookmark{\l__bithesis_toc_title_tl}{ch:toc}
      }

      % åˆ¶ä½œç›®å½•
      \tableofcontents

      % å•ç‹¬æˆé¡µ
      \clearpage
    }
  }
\NewDocumentEnvironment {abstract} {}
  {

    \cleardoublepage
    \linespread{1.53}\selectfont

    % æœ¬ç§‘æ¨¡æ¿åœ¨æ ‡é¢˜ã€Œæ‘˜è¦ã€äºŒå­—ä¸Šæ–¹å¦æœ‰æ¯•ä¸šè®¾è®¡é¢˜ç›®
    \__bithesis_if_bachelor:T {
      \begin{center}
        \vspace*{-17bp}
        \heiti\zihao{-2}\textbf{
          \int_case:nn {\g__bithesis_thesis_type_int}
          {
            {1} {\l__bithesis_value_title_tl}
            {2} {\l__bithesis_value_trans_title_tl}
            {3} {\l__bithesis_value_title_tl}
          }
        }
      \end{center}

      \vspace*{2mm}
    }

    \ctexset{
      chapter/numbering = false,
    }

    \__bithesis_if_bachelor:T {
      \ctexset{
        chapter/titleformat = {\textmd}
      }
    }
    \__bithesis_if_thesis_english:T {
      % è‹±æ–‡æ¨¡æ¿ä¸­ï¼Œctex ä¸ä¼šè‡ªåŠ¨è°ƒæ•´ä¸­æ–‡æ‘˜è¦çš„é¦–è¡Œç¼©è¿›ï¼Œéœ€æ‰‹åŠ¨è°ƒæ•´
      \ctexset{ autoindent = 2 }
    }

    % æ‘˜è¦å¯¹é¡µæ•°å¾ˆæ•æ„Ÿï¼Œæ ‡é¢˜ä¸Šä¸‹é—´è·åº”æœ‰å¼¹æ€§ï¼›å…¶ä¸­ç¡•åšæ¨¡æ¿çš„åŸºç¡€é•¿åº¦å‚è€ƒ Word å®ä½œå¾®è°ƒè¿‡ã€‚
    \ctexset{ chapter = {
      % æœ€çŸ­å‡ä¸º 8bp
      beforeskip = \__bithesis_if_graduate:TF {13bp minus 5bp} {8bp},
      afterskip = \__bithesis_if_graduate:TF {24bp minus 16bp} {32bp minus 24bp},
    } }

    {
      \__bithesis_same_page:
      \bool_if:NTF \l__bithesis_add_abstract_to_toc_bool {
        \chapter{\c__bithesis_label_abstract_tl}
      } {
        \currentpdfbookmark{\c__bithesis_label_abstract_tl}{ch:abstract}
        \chapter*{\c__bithesis_label_abstract_tl}
      }
    }
    \vspace*{1mm}
    \par
  }
  {
    \par
    % æ‘˜è¦å¯¹é¡µæ•°å¾ˆæ•æ„Ÿï¼Œå…³é”®è¯ä¸Šæ–¹é—´è·åº”æœ‰å¼¹æ€§
    \vspace{4ex minus 4ex}
    \noindent
    \__bithesis_if_graduate:TF {
      % ç ”ç©¶ç”Ÿæ¨¡æ¿ä¸­ï¼Œâ€œå…³é”®è¯â€å®‹ä½“å°å››åŠ ç²—
      % å…³é”®è¯ä¸ºå®‹ä½“å°å››å·å­—ã€‚
      \textbf{\c__bithesis_label_keywords_tl}\l__bithesis_value_keywords_tl\par
    } {
      % æœ¬ç§‘ç”Ÿæ¨¡æ¿ä¸­ï¼Œå…³é”®è¯ä¸ºé»‘ä½“åŠ ç²—
      \textbf{\heiti \c__bithesis_label_keywords_tl \l__bithesis_value_keywords_tl}\par
    }
    \newpage
  }
\NewDocumentEnvironment {abstractEn} {}
  {
    \linespread{1.53}\selectfont

    \__bithesis_if_bachelor:T {
      \begin{spacing}{0.95}
        \centering
        \vspace*{-2bp}

        {
          \__bithesis_title_font:
          \zihao{3}\textbf
          \l__bithesis_value_title_en_tl\\
        }
      \end{spacing}
      % æœ€çŸ­ç¼©åˆ°ä¸ä¸­æ–‡æ‘˜è¦ç›¸åŒ
      \vspace*{10mm minus 8mm}
    }

    \ctexset{
      chapter/numbering = false,
    }

    \__bithesis_if_graduate:TF {
      \ctexset{
        chapter/titleformat = {\heiti\zihao{3}\centering\textbf}
      }
    } {
      \ctexset {
        chapter/titleformat = {\zihao{-3}\textmd}
      }
    }

    % æ‘˜è¦å¯¹é¡µæ•°å¾ˆæ•æ„Ÿï¼Œæ ‡é¢˜ä¸Šä¸‹é—´è·åº”æœ‰å¼¹æ€§ï¼›å…¶ä¸­ç¡•åšæ¨¡æ¿çš„åŸºç¡€é•¿åº¦å‚è€ƒ Word å®ä½œå¾®è°ƒè¿‡ã€‚
    \ctexset{ chapter = {
      % æœ€çŸ­å‡ä¸º 8bp
      beforeskip = \__bithesis_if_graduate:TF {19bp minus 11bp} {8bp},
      afterskip = \__bithesis_if_graduate:TF {35bp minus 27bp} {32bp minus 24bp},
    } }

    {
      \__bithesis_same_page:
      \bool_if:nTF {\l__bithesis_add_abstract_en_to_toc_bool} {
        \chapter{\c__bithesis_label_abstract_en_tl}
      } {
        \currentpdfbookmark{\c__bithesis_label_abstract_en_tl}{ch:abstract:en}
        \chapter*{\c__bithesis_label_abstract_en_tl}
      }
    }
  }
  {
    % æ‘˜è¦å¯¹é¡µæ•°å¾ˆæ•æ„Ÿï¼Œå…³é”®è¯ä¸Šæ–¹é—´è·åº”æœ‰å¼¹æ€§
    \par\vspace{3ex minus 3ex}\noindent
    \__bithesis_if_graduate:TF {
      % Times New Romanå°å››å·å­—ï¼Œè¡Œè·22ç£…
      % â€œKey Wordsâ€
      % Times New Romanå°å››å·å­—åŠ ç²—
      \textbf{\c__bithesis_label_keywords_en_tl} \l__bithesis_value_keywords_en_tl
    } {
      \textbf{\c__bithesis_label_keywords_en_tl \l__bithesis_value_keywords_en_tl}
    }
    \newpage
  }

\NewDocumentEnvironment {conclusion} { O{} }
  {
    \group_begin:
    % è§£æä¼ å…¥å‚æ•°
    \keys_set:nn { bithesis-internal / conclusion } {
      title = \__bithesis_if_thesis_english:TF {
        \c__bithesis_label_conclusion_en_tl
      } {
        \c__bithesis_label_conclusion_tl
      },
    }
    \keys_set:nn { bithesis-internal / conclusion } { #1 }

    \ctexset{
      section/number = \arabic{section}
    }

    \chapter{\l__bithesis_internal__conclusion__title_tl}
    \group_end:
  }
  {}
\NewDocumentEnvironment {bibprint} {}
  {
    % è®¾ç½®å‚è€ƒæ–‡çŒ®å­—å·ä¸º 5 å·
    \renewcommand*{\bibfont}{\zihao{5}}
    % è®¾ç½®å‚è€ƒæ–‡çŒ®å„ä¸ªé¡¹ç›®ä¹‹é—´çš„å‚ç›´è·ç¦»ä¸º 0
    \setlength{\bibitemsep}{0ex}
    \setlength{\bibnamesep}{0ex}
    \setlength{\bibinitsep}{0ex}
    \__bithesis_if_graduate:TF {
    } {
      % ã€Œæœ¬ç§‘ç”Ÿã€è®¾ç½®å•å€è¡Œè·
      \renewcommand{\baselinestretch}{1.2}
    }
    % è®¾ç½®å‚è€ƒæ–‡çŒ®é¡ºåºæ ‡ç­¾ `[1]` ä¸æ–‡çŒ®å†…å®¹ `ä½œè€…. æ–‡çŒ®æ ‡é¢˜...` çš„é—´è·
    \setlength{\biblabelsep}{1.7mm}

    \bool_if:NF \l__bithesis_style_bibliography_indent_bool {
      % è®¾ç½®å‚è€ƒæ–‡çŒ®åæ–‡ç¼©è¿›ä¸º 0ï¼ˆä¸ Word æ¨¡æ¿ä¿æŒä¸€è‡´ï¼‰
      % See: https://github.com/hushidong/biblatex-gb7714-2015
      %      å¦‚ä½•ä¿®å‚è€ƒæ–‡çŒ®è¡¨çš„ç¼©è¿›ï¼Ÿ
      \cs_set:Npn \itemcmd {
        \settowidth{\lengthid}{\mkgbnumlabel{\printfield{labelnumber}}}
        %%è¿™é‡Œæ˜¯æ‰€åšçš„è°ƒæ•´ï¼Œä»¥ä¸‹ä¸¤å¥é€šè¿‡è°ƒæ•´\lengthidæ¥è°ƒæ•´ç¼©è¿›
        \setlength{\lengthid}{0pt}
        \addtolength{\lengthid}{-\biblabelsep}
        \setlength{\lengthlw}{\textwidth}
        \addtolength{\lengthlw}{-\lengthid}
        \addvspace{\bibitemsep}%æ¢å¤\bibitemsepçš„ä½œç”¨
        \hangindent\lengthid
        \leavevmode\mkgbnumlabel{\printfield{labelnumber}}%
        \hspace{\biblabelsep}
      }
    }

    \__bithesis_if_thesis_english:TF {
      \chapter{\c__bithesis_label_reference_en_tl}
    } {
      \chapter{\c__bithesis_label_reference_tl}
    }
  }
  {}
\NewDocumentEnvironment {appendices} {}
  {
    % Used in chapter, ToC.
    \tl_new:N \l__bithesis_appendix_plain_label_tl
    % Used before reference label.
    \tl_new:N \l__bithesis_appendix_default_title_tl

    \__bithesis_if_thesis_english:TF {
      \tl_set:Nn \l__bithesis_appendix_plain_label_tl {\c__bithesis_label_appendix_prefix_en_tl}
      \tl_set:Nn \l__bithesis_appendix_default_title_tl {\c__bithesis_label_appendix_en_tl}
    } {
      \tl_set:Nn \l__bithesis_appendix_plain_label_tl {\c__bithesis_label_appendix_prefix_tl}
      \tl_set:Nn \l__bithesis_appendix_default_title_tl {\c__bithesis_label_appendix_tl}
    }

    \bool_if:NTF \l__bithesis_appendices_chapter_level_bool {
      % ä½¿ç”¨ä»¥ã€Œchapterã€ä¸ºé¡¶å±‚çš„é™„å½•æ ¼å¼

      % ä»…è®¾ç½® \setcounter{chapter}{0} æ—¶ï¼Œpdf ç›®å½•ä¼šç´¢å¼•åˆ°æ­£æ–‡ç« èŠ‚ã€‚
      % å› æ­¤ï¼Œéœ€è¦ä½¿ç”¨ \appendix é‡ç½®è®¡æ•°å™¨ï¼Œå¹¶å°†é™„å½•åé¢çš„
      % å‡ ä¸ªç« èŠ‚è§†ä¸ºç‰¹æ®Šçš„é™„å½•é¡µã€‚
      \appendix

      \ctexset{
        chapter/numbering = true,
        chapter/name = {},
        chapter/number = \l__bithesis_appendix_plain_label_tl\hspace{1ex}\Alph{chapter},
        section/number = \Alph{chapter}. \arabic{section},
        subsection/number = \Alph{chapter}. \arabic{section}. \arabic{subsection},
      }

      \cs_set:Npn \thechapter {
        \Alph{chapter}
      }
    } {
      % ä½¿ç”¨ä»¥ã€Œsectionã€ä¸ºé¡¶å±‚çš„é™„å½•æ ¼å¼

      % å› ä¸ºä¸éœ€è¦ç”¨åˆ° chapter counter, æ‰€ä»¥ç›´æ¥åŠ ä¸€å³å¯ã€‚
      \stepcounter{chapter}
      \setcounter{section}{0}
      % ï¼ˆä¸ä¸Šé¢æ–¹æ³•è‡³å°‘ç”¨ä¸€ä¸ªï¼‰
      % éœ€è¦è®© section åœ¨ pdf bookmark ä¸­è¾“å‡ºå­—æ¯è€Œä¸æ˜¯æ•°å­—ã€‚
      % è¯¦è§ hyperref ä»£ç ã€‚
      \gdef\theHsection{\Alph{section}}

      % å®šä¹‰ \thefigure é‡‡ç”¨èŠ‚è€Œä¸æ˜¯ç« 
\cs_set:Npn \thefigure {\theHsection \g__bithesis_label_divide_char_tl\arabic{figure}}

      \ctexset{
        section/number = \l__bithesis_appendix_plain_label_tl\hspace{1ex}\Alph{section},
        subsection/number = \Alph{section}. \arabic{subsection},
      }

      \cs_gset:Npn \thechapter {
        \Alph{section}
      }
      % \gdef \thechapter{\Alph{section}}

      \tl_if_blank:VTF \l__bithesis_appendices_title_tl {
        \chapter{\l__bithesis_appendix_default_title_tl}
      } {
        \chapter*{\l__bithesis_appendices_title_tl}
        \stepcounter{chapter}
        \tl_if_blank:VTF \l__bithesis_appendix_toc_title_tl {
          \addcontentsline{toc}{chapter}{\l__bithesis_appendix_default_title_tl}
        } {
          \addcontentsline{toc}{chapter}{\l__bithesis_appendix_toc_title_tl}
        }
      }
    }
  }
  {
  }
\NewDocumentEnvironment {acknowledgements} {+b}
  {
    % æœ‰ä¸‰ç§å¯èƒ½ï¼šå®Œå…¨æ˜¾ç¤ºã€åªæ˜¾ç¤ºæ ‡é¢˜ã€å®Œå…¨éšè—ã€‚
    % è‹¥åŒæ—¶è®¾ç½® acknowledgements / showTitleInPeerReview = false ä»¥åŠ blindPeerReviewï¼Œåˆ™å®Œå…¨éšè—ã€‚
    \begin{blindPeerReview}[!\l__bithesis_acknowledgements_show_title_in_peer_review_bool]
      % å°†æ­¤ç« èŠ‚è§†ä¸ºç‰¹æ®Šçš„é™„å½•é¡µï¼Œå…³é—­é™„å½•ç¼–å·ï¼Œé‡å®šä¹‰ section ç¼–å·ã€‚
      % ä¸çŸ¥ä¸ºä½•ï¼Œéœ€è¦æ‰‹åŠ¨é‡ç½® section è®¡æ•°å™¨ã€‚
      \setcounter{section}{0}
      \ctexset{
        appendix/numbering = false,
        section/number = \arabic{section},
        subsection/number = \arabic{section}. \arabic{subsection},
        subsubsection/number = \arabic{section}. \arabic{subsection}. \arabic{subsubsection},
      }

      % å¦‚æœä¸æ˜¯å®Œå…¨éšè—ï¼Œå°±éœ€æ˜¾ç¤ºæ ‡é¢˜
      \chapter{\g__bithesis_const_heading_acknowledgements_tl}

      % å¦‚æœä¸æ˜¯ç›²å®¡æ¨¡å¼ï¼Œå°±éœ€æ¸²æŸ“å†…å®¹
      \bool_if:NF \g__bithesis_blind_mode_bool {
        \__bithesis_if_graduate:T {\fangsong}
        #1
      }
    \end{blindPeerReview}
  } {}
\NewDocumentCommand \Author {O{1} o o}
  {
    \bool_if:NTF \g__bithesis_blind_mode_bool {
      % ç›²å®¡æ¨¡å¼
      \IfValueTF {#3} {
        #3
      } {
        ç¬¬\zhnumber{#1}ä½œè€…
      }
    } {
      % æ™®é€šæ¨¡å¼
      \IfValueTF {#2} {
        % è¦†ç›–é»˜è®¤çš„ \author å‘½ä»¤
        #2
      } {
        % é»˜è®¤é‡‡ç”¨ä½œè€…å§“å
        \l__bithesis_value_author_tl
      }
    }
  }

\NewDocumentCommand \AuthorEn {O{1} o o}
  {
    \bool_if:NTF \g__bithesis_blind_mode_bool {
      % ç›²å®¡æ¨¡å¼
      \IfValueTF {#3} {
        #3
      } {
        \Ordinalstringnum{#1}~Author
      }
    } {
      % æ™®é€šæ¨¡å¼
      \IfValueTF {#2} {
        % è¦†ç›–é»˜è®¤çš„ \author å‘½ä»¤
        #2
      } {
        % é»˜è®¤é‡‡ç”¨ä½œè€…å§“å
        \l__bithesis_value_author_en_tl
      }
    }
  }
\NewDocumentCommand \addpub {m} {
  \nocite{#1}
  \addtocategory{mypub}{#1}
}

\NewDocumentCommand \addpubs {m} {
  % apply a clist
  \clist_map_function:nN {#1} \addpub
}
\NewDocumentCommand \pubsection {s m} {
  {
    \par
    \IfBooleanF {#1} {
      % è‡ªå¢è®¡æ•°å™¨
      \stepcounter{pub}
    }
    % è®¾ç½®å°æ ‡é¢˜ï¼Œæš‚æ—¶æ²¡æœ‰è€ƒè™‘è‹±æ–‡æ¨¡å¼
    \noindent
    \textbf{
      \heiti{
        \IfBooleanF {#1} {\zhnumber{\thepub}ã€}#2
      }
    }\par
  }
}
\NewDocumentEnvironment {publications} {+b}
  {
    % åŒæ—¶è®¾ç½® omit ä»¥åŠ blindPeerReview æ‰èƒ½è·³è¿‡æ­¤ç« èŠ‚ç”Ÿæˆã€‚
    \begin{blindPeerReview}[\l__bithesis_publications_omit_bool]
      % å°†æ­¤ç« èŠ‚è§†ä¸ºç‰¹æ®Šçš„é™„å½•é¡µï¼Œå…³é—­é™„å½•ç¼–å·ï¼Œé‡å®šä¹‰ section ç¼–å·ã€‚
      % ä¸çŸ¥ä¸ºä½•ï¼Œéœ€è¦æ‰‹åŠ¨é‡ç½® section è®¡æ•°å™¨ã€‚
      \setcounter{section}{0}
      \ctexset{
        appendix/numbering = false,
        section/number = \arabic{section},
        subsection/number = \arabic{section}. \arabic{subsection},
        subsubsection/number = \arabic{section}. \arabic{subsection}. \arabic{subsubsection},
      }
      % è®¾ç½®å‚è€ƒæ–‡çŒ®å­—å·ä¸º 5 å·
      \renewcommand*{\bibfont}{\zihao{5}}
      % è®¾ç½®å‚è€ƒæ–‡çŒ®å„ä¸ªé¡¹ç›®ä¹‹é—´çš„å‚ç›´è·ç¦»ä¸º 0
      \setlength{\bibitemsep}{0ex}
      \setlength{\bibnamesep}{0ex}
      \setlength{\bibinitsep}{0ex}
      % è®¾ç½®å‚è€ƒæ–‡çŒ®é¡ºåºæ ‡ç­¾ `[1]` ä¸æ–‡çŒ®å†…å®¹ `ä½œè€…. æ–‡çŒ®æ ‡é¢˜...` çš„é—´è·
      \setlength{\biblabelsep}{1.7mm}

      \bool_if:NF \l__bithesis_style_bibliography_indent_bool {
        % è®¾ç½®å‚è€ƒæ–‡çŒ®åæ–‡ç¼©è¿›ä¸º 0ï¼ˆä¸ Word æ¨¡æ¿ä¿æŒä¸€è‡´ï¼‰
        % See: https://github.com/hushidong/biblatex-gb7714-2015
        %      å¦‚ä½•ä¿®å‚è€ƒæ–‡çŒ®è¡¨çš„ç¼©è¿›ï¼Ÿ
        \cs_set:Npn \itemcmd {
          \settowidth{\lengthid}{\mkgbnumlabel{\printfield{labelnumber}}}
          %%è¿™é‡Œæ˜¯æ‰€åšçš„è°ƒæ•´ï¼Œä»¥ä¸‹ä¸¤å¥é€šè¿‡è°ƒæ•´\lengthidæ¥è°ƒæ•´ç¼©è¿›
          \setlength{\lengthid}{0pt}
          \addtolength{\lengthid}{-\biblabelsep}
          \setlength{\lengthlw}{\textwidth}
          \addtolength{\lengthlw}{-\lengthid}
          \addvspace{\bibitemsep}%æ¢å¤\bibitemsepçš„ä½œç”¨
          \hangindent\lengthid
          \leavevmode\mkgbnumlabel{\printfield{labelnumber}}%
          \hspace{\biblabelsep}
        }
      }

      % If in blindPeerReview mode, omit delimiters in author field.
      \bool_if:NT \g__bithesis_blind_mode_bool {
        % å¦‚æœæœ‰å¤šä¸ªä½œè€…ï¼Œä¸ä¿®æ”¹æ­¤é¡¹çš„è¯ï¼Œä½œè€…ä¸æ ‡é¢˜ä¹‹é—´ä¼šæœ‰é€—å·ã€‚
        \DeclareDelimFormat[bib,biblist]{finalnamedelim}{}
        % å¦‚æœè‡ªå·±ä¸æ˜¯ç¬¬ä¸€ä¸ªä½œè€…ï¼Œä¸ä¿®æ”¹æ­¤é¡¹çš„è¯ï¼Œä¼šåœ¨æœ€å¼€å§‹æœ‰é€—å·ã€‚
        \DeclareDelimFormat{multinamedelim}{}
        % å¦‚æœè¦†ç›–çš„æ˜¯è‹±æ–‡ä½œè€…ï¼Œä¸ä¿®æ”¹æ­¤é¡¹çš„è¯ï¼Œä¼šåœ¨æœ€å¼€å§‹æœ‰ç©ºæ ¼ã€‚
        \DeclareDelimFormat{bibnamedelimd}{}

        % å¦‚æœä½œè€…å¤ªå¤šè€Œè¢«æˆªæ–­ï¼Œä¸ä¿®æ”¹çš„è¯ï¼Œä¼šå¤šä½™é€—å·ã€â€œç­‰â€äº‘äº‘ã€‚
        % è¢«æˆªæ–­çš„å……è¦æ¡ä»¶ï¼šä½œè€…æ•°é‡å¤§äºé€šè¿‡`\BITSetup`è®¾ç½®çš„`publications/maxbibnames`ã€‚
        % æ•…è®¾ç½®æ ‡ç‚¹æ¥å»æ‰é€—å·ï¼Œ
        \DeclareDelimFormat[bib,biblist]{andothersdelim}{}
        % å¹¶è®¾ç½®æœ¬åœ°åŒ–å­—ç¬¦ä¸²æ¥å»æ‰â€œç­‰â€ã€‚
        \setlocalbibstring{andothers}{}
        \setlocalbibstring{andotherscn}{}
        % å¦å¤–æ³¨æ„ï¼Œæˆ‘ä»¬ä»å°Šé‡`maxbibnames`å’Œ`minbibnames`ï¼Œä¿è¯è‹¥å¼€ç›²å®¡æ—¶æ˜¾ç¤ºä½œè€…ï¼Œåˆ™å…³ç›²å®¡æ—¶ä¹Ÿæ­£å¸¸ã€‚
      }

      % ===== ä¸Šæ–¹å®šä¹‰ä¸ã€Œå‚è€ƒæ–‡çŒ®ã€éƒ¨åˆ†ç›¸åŒ

      % ä¸­æ–‡å§“åä¸‹ï¼Œæ­¤éƒ¨åˆ†ä¸å‚ä¸è¾“å‡ºã€‚
      \cs_set:Npn \mkbibnamegiven ##1 {
        \haspartannotation{myself}{
          \bool_if:NTF \g__bithesis_blind_mode_bool {
            % ç›²å®¡æ¨¡å¼ï¼Œä¸è¾“å‡ºå†…å®¹
          } {
            % æ™®é€šæ¨¡å¼
            \textbf{##1}
          }
        }{
          \bool_if:NTF \g__bithesis_blind_mode_bool {
            % ç›²å®¡æ¨¡å¼ï¼Œä¸è¾“å‡ºå†…å®¹
          } {
            % æ™®é€šæ¨¡å¼
            ##1
          }
        }
      }

      \cs_set:Npn \mkbibnamefamily ##1 {
        \haspartannotation{myself}{
          % ä½œè€…ä¸ºè‡ªå·±
          \bool_if:NTF \g__bithesis_blind_mode_bool {
            % ç›²å®¡æ¨¡å¼
            \getpartannotation{myself}
          } {
            % æ™®é€šæ¨¡å¼
            \textbf{##1}
          }
        }{
          % ä½œè€…ä¸æ˜¯è‡ªå·±
          \bool_if:NTF \g__bithesis_blind_mode_bool {
            % ç›²å®¡æ¨¡å¼ï¼Œä¸è¾“å‡º
          } {
            % æ™®é€šæ¨¡å¼
            ##1
          }
        }
      }

      \if_cs_exist:N \c@pub {
        % é‡ç½®è®¡æ•°å™¨
        \setcounter{pub}{0}
      } \else: {
        % è®¾ç½®è®¡æ•°å™¨
        \newcounter{pub}
      } \fi:

      % è®¾ç½®å‚è€ƒæ–‡çŒ®çš„æ’åº
      \bool_if:NTF \l__bithesis_publications_sorting_bool {
        % Sorting by year, name, type.
        \newrefcontext[sorting=ynt]
      } {
        % Do not sort.
        \newrefcontext
      }

      % æ ¹æ® maxbibnames çš„è®¾ç½®ï¼Œè¦†ç›– \blx@maxbibnames é€‰é¡¹ï¼Œä¿è¯æ‰€æœ‰ä½œè€…éƒ½èƒ½æ˜¾ç¤ºã€‚
      \cs_set:Npn \blx@maxbibnames {
        \l__bithesis_publications_maxbibnames_int
      }

      % æ ¹æ® minbibnames çš„è®¾ç½®ï¼Œè¦†ç›– \blx@minbibnames é€‰é¡¹ï¼Œä¿è¯æ‰€æœ‰ä½œè€…éƒ½èƒ½æ˜¾ç¤ºã€‚
      \cs_set:Npn \blx@minbibnames {
        \l__bithesis_publications_minbibnames_int
      }

      \chapter{\__bithesis_get_const:n {publications}}
      #1
    \end{blindPeerReview}
  }
  {}
\NewDocumentEnvironment {resume} {+b}
  {
    \begin{blindPeerReview}
      % å°†æ­¤ç« èŠ‚è§†ä¸ºç‰¹æ®Šçš„é™„å½•é¡µï¼Œå…³é—­é™„å½•ç¼–å·ï¼Œé‡å®šä¹‰ section ç¼–å·ã€‚
      % ä¸çŸ¥ä¸ºä½•ï¼Œéœ€è¦æ‰‹åŠ¨é‡ç½® section è®¡æ•°å™¨ã€‚
      \setcounter{section}{0}
      \ctexset{
        appendix/numbering = false,
        section/number = \arabic{section},
        subsection/number = \arabic{section}. \arabic{subsection},
        subsubsection/number = \arabic{section}. \arabic{subsection}. \arabic{subsubsection},
      }
      \chapter{\__bithesis_get_const:n {resume}}
      #1
    \end{blindPeerReview}
  }
  {
  }

\NewDocumentEnvironment {symbols} {}
  {
    \bool_if:NTF \l__bithesis_add_symbols_to_toc_bool {
      \chapter{\__bithesis_get_const:n {symbols}}
    } {
      \chapter*{\__bithesis_get_const:n {symbols}}
      \currentpdfbookmark{\c__bithesis_label_symbols_tl}{ch:symbols}
    }
    \zihao{-4}
    \begin{itemize}[
      labelwidth=2.5cm,
      labelsep=0.5cm,
      leftmargin=3cm,
      itemindent=0cm,
      % ä¸å†åœ¨ä¸¤é¡¹ä¹‹é—´å¢åŠ é¢å¤–çš„é—´è·ï¼ˆ1.5 å€çš„è¡Œé—´è·å·²ç»å¤Ÿå®½äº†ï¼‰ï¼ˆæœªæ¥å¯ä»¥æä¾›ä¸€ä¸ªæ¥å£ä»¥ä¾›ç”¨æˆ·æ‰‹åŠ¨è®¾ç½®é—´è·ï¼‰
      itemsep=-0.5ex,
    ]
    \cs_set:Npn \makelabel ##1 {##1\hfil}
  }
  {
    \end{itemize}

    % å•ç‹¬ä¸€é¡µ
    \clearpage
  }
\endinput
%%
%% End of file `bithesis.cls'.
